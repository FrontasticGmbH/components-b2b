"use strict";(self.webpackChunk_b2bdev_poc_frontend=self.webpackChunk_b2bdev_poc_frontend||[]).push([[4312],{"./src/components/organisms/authentication/login/login.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>login_stories});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),mocks_image=__webpack_require__("./src/mocks/image.ts"),esm_extends=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/extends.js"),defineProperty=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),input=__webpack_require__("./src/components/atoms/input/index.tsx"),password_input=__webpack_require__("./src/components/atoms/password-input/index.tsx"),useTranslation=__webpack_require__("./src/providers/I18n/hooks/useTranslation/index.ts"),atoms_checkbox=__webpack_require__("./src/components/atoms/checkbox/index.tsx"),atoms_link=__webpack_require__("./src/components/atoms/link/index.tsx"),typography=__webpack_require__("./src/components/atoms/typography/index.tsx"),useCustomRouter=__webpack_require__("./src/hooks/useCustomRouter/index.ts"),useSwrClearCache=__webpack_require__("./src/hooks/useSwrClearCache/index.ts"),auth_layout=__webpack_require__("./src/components/organisms/authentication/layouts/auth-layout.tsx");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const hooks_useAuthProps=({resetting,requested,image,logo,logoLink,handleLoginSubmit,handleResetSubmit,goBackToLogin})=>{const{translate}=(0,useTranslation.A)(),commonProps={image,logo,logoLink};return{login:_objectSpread({onSubmit:handleLoginSubmit,title:translate("account.account.login.yours"),subtitle:translate("account.account.doNotHave"),subtitleLink:"/register",subtitleLinkLabel:translate("account.account.register.link"),buttonLabel:translate("account.account.login")},commonProps),reset:_objectSpread({onSubmit:handleResetSubmit,title:translate("account.password.reset.headline"),buttonLabel:translate("account.account.reset.link"),footerLinkLabel:translate("account.account.back.login"),footerLink:"/login",footerOnClick:goBackToLogin},commonProps),requested:_objectSpread({title:translate("account.password.req.sent.headline"),buttonLabel:translate("account.account.back.login"),onSubmit:goBackToLogin},commonProps)}[requested?"requested":resetting?"reset":"login"]};var auth_form=__webpack_require__("./src/components/organisms/authentication/layouts/auth-form.tsx");const _excluded=["login","requestPasswordReset"],_excluded2=["image","logo","logoLink"];var __jsx=react.createElement;function login_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function login_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?login_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):login_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const Login=_ref=>{let{login,requestPasswordReset}=_ref,props=(0,objectWithoutProperties.A)(_ref,_excluded);const router=(0,useCustomRouter.A)(),clearCache=(0,useSwrClearCache.A)(),{translate}=(0,useTranslation.A)(),{0:data,1:setData}=(0,react.useState)({}),{0:resetting,1:setResetting}=(0,react.useState)(!1),{0:requested,1:setRequested}=(0,react.useState)(!1),{0:error,1:setError}=(0,react.useState)(),{0:inputError,1:setInputError}=(0,react.useState)(),handleChange=({target})=>{error&&setError(void 0);const{name,value,checked}=target;setData(login_objectSpread(login_objectSpread({},data),{},{[name]:"on"==value?checked:value}))},_useAuthProps=hooks_useAuthProps(login_objectSpread(login_objectSpread({},props),{},{handleLoginSubmit:async()=>{data.email&&data.password?login(data.email,data.password,data.rememberMe).then((()=>{router.push("/"),router.refresh(),clearCache()})).catch((err=>{err.message.includes("unverified")?setInputError(translate("error.auth.action.verify")):setError(translate("error.auth.wrong"))})):setError(translate("error.auth.wrong"))},handleResetSubmit:()=>{data.email&&requestPasswordReset(data.email).then((()=>{setRequested(!0)})).catch((()=>{setError(translate("error.email.not.found"))}))},resetting,requested,goBackToLogin:()=>{setRequested(!1),setResetting(!1)}})),{image,logo,logoLink}=_useAuthProps,formProps=(0,objectWithoutProperties.A)(_useAuthProps,_excluded2);return __jsx(auth_layout.A,{image,logo,logoLink},__jsx(auth_form.A,(0,esm_extends.A)({},formProps,{error,includeCheckIcon:requested}),requested?__jsx(typography.A,{fontSize:16,className:"inline text-gray-600",lineHeight:"loose"},translate("account.password.req.sent.desc")):__jsx(input.A,{containerClassName:"w-full",className:"w-full",name:"email",required:!0,label:translate("common.emailAddress"),value:data.email??"",onChange:handleChange,error:inputError}),!resetting&&__jsx(react.Fragment,null,__jsx(password_input.A,{containerClassName:"w-full",className:"w-full",name:"password",required:!0,label:translate("account.password"),value:data.password??"",onChange:handleChange}),__jsx("div",{className:"mt-6 flex justify-between"},__jsx(atoms_checkbox.A,{className:"text-14 text-gray-500",name:"rememberMe",label:translate("account.rememberMe"),onChange:handleChange}),__jsx(atoms_link.A,{className:"text-14 text-gray-600 underline hover:text-gray-500",href:"#",onClick:()=>{setResetting(!0),setError(void 0)}},translate("account.password.forgot"))))))},login=Login;Login.__docgenInfo={description:"",methods:[],displayName:"Login",props:{image:{required:!0,tsType:{name:"intersection",raw:"Omit<NextImageProps, 'src'> & Image",elements:[{name:"Omit",elements:[{name:"NextImageProps"},{name:"literal",value:"'src'"}],raw:"Omit<NextImageProps, 'src'>"},{name:"Image"}]},description:""},logo:{required:!0,tsType:{name:"Image"},description:""},logoLink:{required:!0,tsType:{name:"Link"},description:""},login:{required:!0,tsType:{name:"ReturnType['login']",raw:"UseAccountReturn['login']"},description:""},requestPasswordReset:{required:!0,tsType:{name:"ReturnType['requestPasswordReset']",raw:"UseAccountReturn['requestPasswordReset']"},description:""}}};var login_stories_jsx=react.createElement;const login_stories={title:"Organisms/Login",component:login},Default=(args=>login_stories_jsx(login,args)).bind({});Default.args={logoLink:{href:"/"},logo:{src:"/sb-assets/THE B2B STORE.png",width:1481,height:84},image:{src:mocks_image.S.url,width:680,height:340,alt:""}};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => <Login {...args} />",...Default.parameters?.docs?.source}}}},"./src/components/atoms/checkbox/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>atoms_checkbox});var esm_extends=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),classnames=__webpack_require__("./src/utils/classnames/classnames/index.ts"),useControllableState=__webpack_require__("./src/hooks/useControllableState/index.ts"),cva=__webpack_require__("./src/utils/classnames/cva/index.ts");const hooks_useClassNames=({checked,size,disabled,containerClassName})=>{const checkedVariant=checked?"checked":"unChecked",disabledVariant=disabled?"disabled":"active",resolveCheckboxVariant=(0,cva.F)({intent:{active:{checked:"cursor-pointer border-primary bg-primary checked:border-primary checked:bg-primary checked:hover:border-primary checked:hover:bg-primary checked:focus:border-primary checked:focus:bg-primary",unChecked:"cursor-pointer border-gray-300 bg-white hover:border-gray-600"},disabled:{checked:"cursor-not-allowed border-gray-300 bg-gray-300 checked:border-gray-300 checked:bg-gray-300 checked:hover:border-gray-300 checked:hover:bg-gray-300 checked:focus:border-gray-300 checked:focus:bg-gray-300",unChecked:"cursor-not-allowed border-neutral-400 bg-white"}},size:{lg:"size-[20px]",sm:"size-[16px]"}}),checkboxClassName=(0,classnames.p)("rounded-sm border focus:shadow-dark focus:ring-transparent focus:ring-offset-0",resolveCheckboxVariant(`intent.${disabledVariant}.${checkedVariant}`),resolveCheckboxVariant(`size.${size}`)),resolveLabelVariant=(0,cva.F)({intent:{active:{checked:"text-gray-600",unChecked:"text-gray-600"},disabled:{checked:"text-gray-300",unChecked:"text-neutral-400"}}});return{checkboxClassName,labelClassName:(0,classnames.p)("text-14",resolveLabelVariant(`intent.${disabledVariant}.${checkedVariant}`)),containerClassNames:(0,classnames.p)("flex w-fit items-center gap-2",containerClassName)}};var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),index_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./src/components/atoms/checkbox/styles/index.module.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(index_module.A,options);const styles_index_module=index_module.A&&index_module.A.locals?index_module.A.locals:void 0,_excluded=["label","checked","onChecked","disabled","containerClassName","className","defaultChecked","size"];var __jsx=react.createElement;const Checkbox=_ref=>{let{label,checked:checkedProp,onChecked,disabled,containerClassName,className,defaultChecked=!1,size="lg"}=_ref,props=(0,objectWithoutProperties.A)(_ref,_excluded);const[checked,setChecked]=(0,useControllableState.A)(checkedProp,defaultChecked),{checkboxClassName,labelClassName,containerClassNames}=hooks_useClassNames({checked,size,disabled,containerClassName}),handleChange=(0,react.useCallback)((e=>{setChecked(e.target.checked),onChecked?.(e.target.checked)}),[onChecked,setChecked]);return __jsx("label",{className:containerClassNames},__jsx("input",(0,esm_extends.A)({type:"checkbox",className:(0,classnames.p)(checkboxClassName,className,styles_index_module.checkbox),disabled,checked,onChange:handleChange},props)),__jsx("span",{className:labelClassName},label))},atoms_checkbox=Checkbox;Checkbox.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{containerClassName:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'lg'",computed:!1}},label:{required:!1,tsType:{name:"ReactNode"},description:""},onChecked:{required:!1,tsType:{name:"signature",type:"function",raw:"(val: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"val"}],return:{name:"void"}}},description:""},defaultChecked:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["Omit"]}},"./src/hooks/useSwrClearCache/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),swr__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/swr/dist/_internal/index.mjs");const __WEBPACK_DEFAULT_EXPORT__=()=>{const{mutate}=(0,swr__WEBPACK_IMPORTED_MODULE_1__.iX)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{mutate((()=>!0),void 0,{revalidate:!1})}),[mutate])}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./src/components/atoms/checkbox/styles/index.module.css":(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".styles_checkbox__Ykke_,.styles_checkbox__Ykke_:hover{background-position:50%;background-repeat:no-repeat;background-size:90% 80%}.styles_checkbox__Ykke_:hover{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23494949' stroke-width='2' class='w-6 h-6' viewBox='0 0 24 24'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='m4.5 12.75 6 6 9-13.5'/%3E%3C/svg%3E\")}.styles_checkbox__Ykke_:checked,.styles_checkbox__Ykke_:checked:hover{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' stroke='%23fff' stroke-width='2' class='w-6 h-6' viewBox='0 0 24 24'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='m4.5 12.75 6 6 9-13.5'/%3E%3C/svg%3E\");background-position:50%;background-repeat:no-repeat;background-size:90% 80%}.styles_checkbox__Ykke_:not(:checked):disabled{background-image:none}","",{version:3,sources:["webpack://./src/components/atoms/checkbox/styles/index.module.css"],names:[],mappings:"AAMA,sDAJE,uBAA2B,CAC3B,2BAA4B,CAF5B,uBAUF,CALA,8BAIE,uRACF,CAEA,sEAKE,oRAAuQ,CAFvQ,uBAA2B,CAC3B,2BAA4B,CAF5B,uBAIF,CAEA,+CACE,qBACF",sourcesContent:[".checkbox {\n  background-size: 90% 80%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.checkbox:hover {\n  background-size: 90% 80%;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='%23494949' class='w-6 h-6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M4.5 12.75l6 6 9-13.5' /%3E%3C/svg%3E\");\n}\n\n.checkbox:checked,\n.checkbox:checked:hover {\n  background-size: 90% 80%;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='white' class='w-6 h-6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M4.5 12.75l6 6 9-13.5' /%3E%3C/svg%3E\");\n}\n\n.checkbox:not(:checked):disabled {\n  background-image: none;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={checkbox:"styles_checkbox__Ykke_"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___}}]);