"use strict";(self.webpackChunk_b2bdev_poc_frontend=self.webpackChunk_b2bdev_poc_frontend||[]).push([[8297],{"./node_modules/@commercetools/checkout-browser-sdk/dist/checkout.js":(__unused_webpack_module,exports,__webpack_require__)=>{var console=__webpack_require__("./node_modules/console-browserify/index.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=exports.paymentFlow=exports.checkoutFlow=exports.checkout=exports.createModal=exports.addMessageEventListener=exports.CheckoutMode=void 0;const init_1=__webpack_require__("./node_modules/@commercetools/checkout-browser-sdk/dist/init.js"),config_1=__webpack_require__("./node_modules/@commercetools/checkout-browser-sdk/dist/services/config.js");var CheckoutMode;!function(CheckoutMode){CheckoutMode.completeFlow="complete-flow",CheckoutMode.paymentOnly="payment-only"}(CheckoutMode||(exports.CheckoutMode=CheckoutMode={}));let listener;const originalOverflow=document.body.style.overflow,getEmbeddedContainer=()=>{const embeddedAll=document.querySelectorAll("[data-ctc]");return embeddedAll.length>0&&(embeddedAll[0]instanceof HTMLDivElement||embeddedAll[0]instanceof HTMLSpanElement)?embeddedAll[0]:null};var PostMessageCodes;!function(PostMessageCodes){PostMessageCodes.InitCheckout="init_checkout"}(PostMessageCodes||(PostMessageCodes={}));const closeModal=()=>{if(window.commercetoolsCheckout&&window.commercetoolsCheckout.root&&window.commercetoolsCheckout.root.unmount)window.commercetoolsCheckout.root.unmount();else{const embeddedContainer=getEmbeddedContainer();embeddedContainer&&(embeddedContainer.innerHTML="")}const modal=document.getElementById("commercetools-checkout");modal&&(document.body.style.overflow=originalOverflow,modal.remove()),listener&&window.removeEventListener("message",listener)};exports.addMessageEventListener=checkoutMode=>{listener=({origin,data})=>{var _a;if(origin===window.location.origin){if("checkout_cancelled"===(null==data?void 0:data.code)&&closeModal(),"checkout_loaded"===(null==data?void 0:data.code)){const checkoutConfig=Object.assign({},(0,config_1.getCheckoutConfig)());window.postMessage({code:PostMessageCodes.InitCheckout,payload:Object.assign(Object.assign({},checkoutConfig),{checkoutMode})},window.location.origin)}if("checkout_completed"===(null==data?void 0:data.code)){closeModal();const{id}=(null===(_a=null==data?void 0:data.payload)||void 0===_a?void 0:_a.order)||{},{callbackUrl,returnUrl}=(0,config_1.getCheckoutConfig)();returnUrl?window.location.href=`${returnUrl}?orderId=${id}`:callbackUrl&&(window.location.href=`${callbackUrl}?orderId=${id}`)}}},window.addEventListener("message",listener)};exports.createModal=async(checkoutType=CheckoutMode.completeFlow)=>{if(closeModal(),(0,exports.addMessageEventListener)(checkoutType),!getEmbeddedContainer()){const div=document.createElement("div");div.setAttribute("id","commercetools-checkout"),document.body.appendChild(div),document.body.style.overflow="hidden"}if("object"==typeof window.commercetoolsCheckout&&"function"==typeof window.commercetoolsCheckout.render)window.commercetoolsCheckout.render();else{const script=document.createElement("script");script.src=`${(0,config_1.getAppHost)()}/main.js`,script.onerror=()=>console.log(`[ctc] Error loading checkout script on ${script.src}`),document.head.appendChild(script)}};exports.checkout=checkoutData=>{(0,config_1.updateCheckoutConfig)(checkoutData),(0,exports.createModal)()};exports.checkoutFlow=config=>{if("object"!=typeof config)throw new Error("Bad config, please review docs");(0,config_1.updateCheckoutConfig)(config,!0),(0,init_1.handleCustomSubscriptions)(config,!0),(0,init_1.handleDefaultSubscriptions)(config,!0),(0,exports.createModal)()};exports.paymentFlow=config=>{if("object"!=typeof config)throw new Error("Bad config, please review docs");(0,config_1.updateCheckoutConfig)(config,!0),(0,init_1.handleCustomSubscriptions)(config,!0),(0,init_1.handleDefaultSubscriptions)(config,!0),(0,exports.createModal)(CheckoutMode.paymentOnly)};exports.close=()=>{closeModal()}},"./node_modules/@commercetools/checkout-browser-sdk/dist/index.js":function(__unused_webpack_module,exports,__webpack_require__){var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("./node_modules/@commercetools/checkout-browser-sdk/dist/checkout.js"),exports),__exportStar(__webpack_require__("./node_modules/@commercetools/checkout-browser-sdk/dist/init.js"),exports),__exportStar(__webpack_require__("./node_modules/@commercetools/checkout-browser-sdk/dist/subscriptions.js"),exports)},"./node_modules/@commercetools/checkout-browser-sdk/dist/init.js":(__unused_webpack_module,exports,__webpack_require__)=>{var console=__webpack_require__("./node_modules/console-browserify/index.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.init=exports.handleDefaultSubscriptions=exports.handleCustomSubscriptions=void 0;const config_1=__webpack_require__("./node_modules/@commercetools/checkout-browser-sdk/dist/services/config.js"),subscriptions_1=__webpack_require__("./node_modules/@commercetools/checkout-browser-sdk/dist/subscriptions.js"),subscriptions={};exports.handleCustomSubscriptions=(config,forceUnsubscribe)=>{[["info","onInfo"],["warn","onWarn"],["error","onError"]].forEach((i=>{const level=i[0],fnName=i[1];forceUnsubscribe&&subscriptions[fnName]&&(0,subscriptions_1.unsubscribe)(subscriptions[fnName]),"function"==typeof config[fnName]&&(subscriptions[fnName]&&(0,subscriptions_1.unsubscribe)(subscriptions[fnName]),subscriptions[fnName]=(0,subscriptions_1.subscribe)(`${level}:*`,config[fnName]))}))};exports.handleDefaultSubscriptions=(config,forceUnsubscribe)=>{[["info","logInfo"],["warn","logWarn"],["error","logError"]].forEach((i=>{const level=i[0],fnName=i[1];forceUnsubscribe&&subscriptions[fnName]&&(0,subscriptions_1.unsubscribe)(subscriptions[fnName]),!0===config[fnName]&&(subscriptions[fnName]&&(0,subscriptions_1.unsubscribe)(subscriptions[fnName]),subscriptions[fnName]=(0,subscriptions_1.subscribe)(`${level}:*`,(function(m){void 0!==m.payload?console[level]("[ctc]",m.code,m.payload):console[level]("[ctc]",m.code)})))}))};exports.init=config=>{if("object"!=typeof config)throw new Error("Bad config, please review docs");"object"==typeof config.checkoutConfig&&(0,config_1.updateCheckoutConfig)(config.checkoutConfig),(0,exports.handleCustomSubscriptions)(config),(0,exports.handleDefaultSubscriptions)(config)}},"./node_modules/@commercetools/checkout-browser-sdk/dist/services/config.js":(__unused_webpack_module,exports,__webpack_require__)=>{var process=__webpack_require__("./node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateCheckoutConfig=exports.getCheckoutConfig=exports.getAppHost=exports.MissingConfigurationField=void 0;let checkoutConfig={};class MissingConfigurationField extends Error{constructor(fieldName){super(`Missing field in the configuration: ${fieldName}`),Object.setPrototypeOf(this,MissingConfigurationField.prototype)}}exports.MissingConfigurationField=MissingConfigurationField;exports.getAppHost=()=>{if(!checkoutConfig.region&&!checkoutConfig.host)throw new MissingConfigurationField("region");return checkoutConfig.region&&checkoutConfig.region.startsWith("http")?checkoutConfig.region:checkoutConfig.region?`https://app.checkout.${checkoutConfig.region}.commercetools.com`:checkoutConfig.host};exports.getCheckoutConfig=()=>checkoutConfig;exports.updateCheckoutConfig=(newConfig,reset=!1)=>(reset&&(checkoutConfig={}),checkoutConfig={skipConfirmationPages:"skipConfirmationPages"in newConfig?newConfig.skipConfirmationPages:checkoutConfig.skipConfirmationPages,accessToken:"accessToken"in newConfig?newConfig.accessToken:checkoutConfig.accessToken,applicationId:"applicationId"in newConfig?newConfig.applicationId:checkoutConfig.applicationId,applicationKey:"applicationKey"in newConfig?newConfig.applicationKey:checkoutConfig.applicationKey,callbackUrl:"callbackUrl"in newConfig?newConfig.callbackUrl:checkoutConfig.callbackUrl,returnUrl:"returnUrl"in newConfig?newConfig.returnUrl:checkoutConfig.returnUrl,sellerId:"sellerId"in newConfig?newConfig.sellerId:checkoutConfig.sellerId,cartId:"cartId"in newConfig?newConfig.cartId:checkoutConfig.cartId,host:"host"in newConfig?newConfig.host:checkoutConfig.host,paymentReference:"paymentReference"in newConfig?newConfig.paymentReference:checkoutConfig.paymentReference,locale:"locale"in newConfig?newConfig.locale:checkoutConfig.locale,projectKey:"projectKey"in newConfig?newConfig.projectKey:checkoutConfig.projectKey,storeKey:"storeKey"in newConfig?newConfig.storeKey:checkoutConfig.storeKey,styles:"styles"in newConfig?newConfig.styles:checkoutConfig.styles,languageOverrides:"languageOverrides"in newConfig?newConfig.languageOverrides:checkoutConfig.languageOverrides,forms:"forms"in newConfig?newConfig.forms:checkoutConfig.forms,currencyLocale:"currencyLocale"in newConfig?newConfig.currencyLocale:checkoutConfig.currencyLocale,showTaxes:"showTaxes"in newConfig?newConfig.showTaxes:checkoutConfig.showTaxes,sessionId:"sessionId"in newConfig?newConfig.sessionId:checkoutConfig.sessionId,region:"region"in newConfig?newConfig.region:checkoutConfig.region,browserSdkVersion:process.env.__VERSION__},checkoutConfig)},"./node_modules/@commercetools/checkout-browser-sdk/dist/subscriptions.js":(__unused_webpack_module,exports)=>{var Severity;Object.defineProperty(exports,"__esModule",{value:!0}),exports.unsubscribe=exports.subscribe=exports.filterMessages=exports.matches=exports.typeMatches=exports.Severity=void 0,function(Severity){Severity.INFO="info",Severity.WARN="warn",Severity.ERROR="error"}(Severity||(exports.Severity=Severity={}));exports.typeMatches=pattern=>messageType=>{if(!pattern||!messageType)return!1;if("*"===pattern||messageType===pattern)return!0;const patternParts=pattern.split(":"),typeParts=messageType.split(":");return!(!typeParts[0]||patternParts[0]!==typeParts[0])&&(0,exports.typeMatches)(patternParts.slice(1).join(":"))(typeParts.slice(1).join(":"))};exports.matches=pattern=>message=>(0,exports.typeMatches)(pattern)(message.type);exports.filterMessages=(messages,pattern)=>messages.filter((0,exports.matches)(pattern));const listeners={};exports.subscribe=(pattern,handler)=>{const listenerId=`${pattern}_${Math.round(1e15*Math.random())}`,listener=({origin,data})=>{if(origin!==window.location.origin)return;if("commercetoolsCheckout"!==data.source)return;const message=data||{};(0,exports.typeMatches)(pattern)(message.type)&&handler(message)};return window.addEventListener("message",listener),listeners[listenerId]=listener,listenerId};exports.unsubscribe=listenerId=>window.removeEventListener("message",listeners[listenerId])}}]);