"use strict";(self.webpackChunk_b2bdev_poc_frontend=self.webpackChunk_b2bdev_poc_frontend||[]).push([[2489],{"./node_modules/@heroicons/react/24/outline/esm/CheckCircleIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function CheckCircleIcon({title,titleId,...props},svgRef){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:svgRef,"aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(CheckCircleIcon)},"./node_modules/@heroicons/react/24/solid/esm/CheckIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function CheckIcon({title,titleId,...props},svgRef){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:svgRef,"aria-labelledby":titleId},props),title?react__WEBPACK_IMPORTED_MODULE_0__.createElement("title",{id:titleId},title):null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"}))}const __WEBPACK_DEFAULT_EXPORT__=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(CheckIcon)},"./src/components/organisms/cart/cart.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>cart_stories});var esm_extends=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),defineProperty=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const cart={cartId:"1",lineItems:[{lineItemId:"2234-3333-0001",count:3,name:"Item number 1",price:{centAmount:9999,currencyCode:"EUR",fractionDigits:2},variant:{id:"1",sku:"GRCG-01",images:["/sb-assets/brake-disk.png"],attributes:{model:"model a-1",productspec:"- Set of 5 glasses\n- Imported crystal\n- Gold polish on the rims"},price:{fractionDigits:2,centAmount:2799,currencyCode:"GBP"}}},{lineItemId:"2234-3333-0002",count:3,name:"Item number 2",price:{centAmount:9999,currencyCode:"EUR",fractionDigits:2},variant:{id:"1",sku:"GPC-01",images:["/sb-assets/brake-disk.png"],attributes:{model:"model a-1",color:"silver",colorlabel:"Silver",productspec:"- Velvet fabric\n- Cotton lining\n- Pillow case comes with zip for easy removal\n- Pillow not included\n- Washable"},price:{fractionDigits:2,centAmount:1999,currencyCode:"GBP"},isOnStock:!0}},{lineItemId:"2234-3333-0003",count:3,name:"Item number 3",price:{centAmount:9999,currencyCode:"EUR",fractionDigits:2},variant:{id:"1",sku:"TTSS-01",images:["/sb-assets/brake-disk.png"],attributes:{model:"model a-1",productspec:"- Three seater sofa\n- Velvet upholstery\n- Assembly on site",color:"#09331c",colorlabel:"Emerald",finish:"#202120",finishlabel:"Espresso"},price:{fractionDigits:2,centAmount:239900,currencyCode:"GBP"},discountedPrice:{fractionDigits:2,centAmount:215910,currencyCode:"GBP"},isOnStock:!0}},{lineItemId:"2234-3333-0004",count:3,name:"Item number 4",price:{centAmount:9999,currencyCode:"EUR",fractionDigits:2},variant:{id:"1",sku:"ALC-01",images:["/sb-assets/brake-disk.png"],attributes:{model:"model a-1",color:"lightpink",colorlabel:"Soft Pink",finishlabel:"Brass",finish:"goldenrod",productspec:"- Comes with matching throw pillow\n- Velvet upholstery\n- Pre-assembled"},price:{fractionDigits:2,centAmount:75e3,currencyCode:"GBP"},isOnStock:!0}},{lineItemId:"2234-3333-0005",count:3,name:"Item number 5",price:{centAmount:9999,currencyCode:"EUR",fractionDigits:2},variant:{id:"1",sku:"MMST-01",images:["/sb-assets/brake-disk.png"],attributes:{model:"model a-1",color:"white",colorlabel:"White",finish:"white",finishlabel:"Marble",productspec:"- 4 legged side table\n- Walnut legs\n- Pre-assembled"},price:{fractionDigits:2,centAmount:12e3,currencyCode:"GBP"},isOnStock:!0}}].map((lineItem=>{const variant=lineItem.variant,price=(lineItem.price?.centAmount??variant?.price?.centAmount??0)-(lineItem.taxRate?.includedInPrice?lineItem.taxed?.taxAmount?.centAmount??0:0),discountedPrice=lineItem.discountedPrice?.centAmount??variant?.discountedPrice?.centAmount,fractionDigits=lineItem.price?.fractionDigits??variant?.price?.fractionDigits??2,currency=lineItem.price?.currencyCode??variant?.price?.currencyCode??"USD";return _objectSpread(_objectSpread({id:lineItem.lineItemId,url:lineItem._url,sku:variant?.sku,name:lineItem.name,description:variant?.attributes?.["Product-Specifications"],images:variant?.images,quantity:lineItem.count,price:price/Math.pow(10,fractionDigits)},discountedPrice?{discountedPrice:discountedPrice/Math.pow(10,fractionDigits)}:{}),{},{currency,inStock:variant?.isOnStock,maxQuantity:variant?.isOnStock?variant.availableQuantity:0,model:variant?.sku})})),transaction:{subtotal:{centAmount:3e4,currencyCode:"USD",fractionDigits:2},discount:{centAmount:0,currencyCode:"USD",fractionDigits:2},tax:{centAmount:0,currencyCode:"USD",fractionDigits:2},shipping:{centAmount:0,currencyCode:"USD",fractionDigits:2},total:{centAmount:3e4,currencyCode:"USD",fractionDigits:2}}};var objectWithoutProperties=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),useTranslation=__webpack_require__("./src/providers/I18n/hooks/useTranslation/index.ts");const hooks_useCloseFlyouts=()=>(0,react.useCallback)((()=>{const event=new Event("keyup");event.key="Escape",document.dispatchEvent(event)}),[]);var typography=__webpack_require__("./src/components/atoms/typography/index.tsx"),Image=__webpack_require__("./src/components/atoms/Image/index.tsx"),classnames=__webpack_require__("./src/utils/classnames/classnames/index.ts"),info_banner=__webpack_require__("./src/components/molecules/info-banner/index.tsx"),discounts_form=__webpack_require__("./src/components/molecules/discounts-form/index.tsx"),costs=__webpack_require__("./src/components/molecules/costs/index.tsx"),__jsx=react.createElement;const PaymentMethods=({paymentMethods})=>{const{translate}=(0,useTranslation.A)();return __jsx("div",{className:"mt-5 md:mt-6 lg:mt-4"},__jsx("div",{className:"hidden lg:block"},__jsx("p",{className:"text-14 leading-[20px] text-secondary"},translate("cart.we.accept"))),__jsx("div",{className:"mt-6 flex items-center justify-start gap-4 md:justify-center lg:mt-4 lg:justify-start"},paymentMethods.map((({name,image})=>__jsx("div",{key:name,className:"relative size-7"},__jsx(Image.A,(0,esm_extends.A)({},image,{alt:name})))))))},payment_methods=PaymentMethods;PaymentMethods.__docgenInfo={description:"",methods:[],displayName:"PaymentMethods",props:{paymentMethods:{required:!0,tsType:{name:"Array",elements:[{name:"PaymentMethod"}],raw:"Array<PaymentMethod>"},description:""}}};const _excluded=["className","paymentMethods","button","classNames","order","transaction","discounts","onDiscountRedeem"];var order_payment_section_jsx=react.createElement;const OrderPaymentSection=_ref=>{let{className,paymentMethods=[],button,classNames,order,transaction,discounts,onDiscountRedeem}=_ref,props=(0,objectWithoutProperties.A)(_ref,_excluded);const infoContainerClassName=(0,classnames.p)("border-t border-neutral-400 bg-white",classNames?.infoContainer);return order_payment_section_jsx("div",(0,esm_extends.A)({className},props),!order&&order_payment_section_jsx(discounts_form.A,{className:classNames?.applyDiscountButton,discounts:discounts??[],onSubmit:onDiscountRedeem}),order_payment_section_jsx("div",{className:infoContainerClassName},order_payment_section_jsx(costs.A,{classNames:{container:"pt-4 md:pt-6 lg:pt-11"},subtotal:transaction?.subtotal.centAmount??0,shipping:transaction?.shipping.centAmount??0,isShippingEstimated:transaction?.shipping.isEstimated,discount:transaction?.discount.centAmount??0,tax:transaction?.tax.centAmount??0,total:transaction?.total.centAmount??0,currency:transaction?.total.currencyCode??"USD"}),button,paymentMethods.length>0&&order_payment_section_jsx(payment_methods,{paymentMethods})))},order_payment_section=OrderPaymentSection;OrderPaymentSection.__docgenInfo={description:"",methods:[],displayName:"OrderPaymentSection",props:{title:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},classNames:{required:!1,tsType:{name:"ClassNames"},description:""},cart:{required:!1,tsType:{name:"Cart"},description:""},order:{required:!1,tsType:{name:"Order"},description:""},includeItemsList:{required:!1,tsType:{name:"boolean"},description:""},includeSummaryAccordion:{required:!1,tsType:{name:"boolean"},description:""},paymentMethods:{required:!1,tsType:{name:"Array",elements:[{name:"PaymentMethod"}],raw:"Array<PaymentMethod>"},description:"",defaultValue:{value:"[]",computed:!1}},dataReference:{required:!1,tsType:{name:"union",raw:"'order' | 'cart'",elements:[{name:"literal",value:"'order'"},{name:"literal",value:"'cart'"}]},description:""},button:{required:!1,tsType:{name:"ReactElement",elements:[{name:"unknown"}],raw:"ReactElement<unknown>"},description:""},transaction:{required:!1,tsType:{name:"Transaction"},description:""},discounts:{required:!1,tsType:{name:"Array",elements:[{name:"intersection",raw:"Discount & { onRemove?: () => Promise<boolean> }",elements:[{name:"Discount"},{name:"signature",type:"object",raw:"{ onRemove?: () => Promise<boolean> }",signature:{properties:[{key:"onRemove",value:{name:"signature",type:"function",raw:"() => Promise<boolean>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"boolean"}],raw:"Promise<boolean>"}},required:!1}}]}}]}],raw:"Array<Discount & { onRemove?: () => Promise<boolean> }>"},description:""},onDiscountRedeem:{required:!1,tsType:{name:"signature",type:"function",raw:"(code: string) => Promise<boolean>",signature:{arguments:[{type:{name:"string"},name:"code"}],return:{name:"Promise",elements:[{name:"boolean"}],raw:"Promise<boolean>"}}},description:""}}};var _Log,_CurrencyHelpers,router=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/router/index.mjs"),console=__webpack_require__("./node_modules/console-browserify/index.js");class Log{}_Log=Log,(0,defineProperty.A)(Log,"WARNING","Warning"),(0,defineProperty.A)(Log,"ERROR","Error"),(0,defineProperty.A)(Log,"errors",[]),(0,defineProperty.A)(Log,"errorLogger",void 0),(0,defineProperty.A)(Log,"warn",((...errorData)=>{_Log.log(_Log.WARNING,errorData)})),(0,defineProperty.A)(Log,"warning",((...errorData)=>{_Log.log(_Log.WARNING,errorData)})),(0,defineProperty.A)(Log,"error",((...errorData)=>{_Log.log(_Log.ERROR,errorData)})),(0,defineProperty.A)(Log,"log",((type,errorData)=>{console.error(type+":",...errorData),"undefined"!=typeof window&&(_Log.errorLogger?_Log.errorLogger({type,date:new Date,data:errorData}):_Log.errors.push({type,date:new Date,data:errorData}))})),(0,defineProperty.A)(Log,"setErrorLogger",(errorLogger=>{_Log.errorLogger=errorLogger})),(0,defineProperty.A)(Log,"hasErrors",(()=>!!_Log.errors.length)),(0,defineProperty.A)(Log,"getErrors",(()=>_Log.errors.sort(((a,b)=>a.date.getTime()-b.date.getTime()))));class StringHelpers{}(0,defineProperty.A)(StringHelpers,"isNumeric",(val=>!isNaN(+val))),(0,defineProperty.A)(StringHelpers,"capitaliseFirstLetter",(val=>val.charAt(0).toUpperCase()+val.slice(1)));class CurrencyHelpers{}_CurrencyHelpers=CurrencyHelpers,(0,defineProperty.A)(CurrencyHelpers,"formatNumberForCurrency",(function(costInCents,locale,currencyCode="EUR",fractionDigits=0){return _CurrencyHelpers.formatMoneyCurrency({centAmount:costInCents,currencyCode,fractionDigits},locale)})),(0,defineProperty.A)(CurrencyHelpers,"formatStringForCurrency",(function(costInCents,locale,currencyCode="EUR",fractionDigits=0){return StringHelpers.isNumeric(costInCents)?_CurrencyHelpers.formatNumberForCurrency(parseInt(costInCents,10),locale,currencyCode,fractionDigits):(Log.error(new Error(`Value (${costInCents}) passed for currency formatting cannot be parsed to a number`)),"")})),(0,defineProperty.A)(CurrencyHelpers,"getLocaleFromShortenedLocale",(function(locale){return{en:"en-GB",de:"de-DE"}[locale]??"de-DE"})),(0,defineProperty.A)(CurrencyHelpers,"formatMoneyCurrency",(function(price,locale){return Intl.NumberFormat(_CurrencyHelpers.getLocaleFromShortenedLocale(locale),{style:"currency",currency:price?.currencyCode??"EUR",maximumFractionDigits:price?.fractionDigits??0,minimumFractionDigits:price?.fractionDigits??0}).format((price?.centAmount??0)/100)})),(0,defineProperty.A)(CurrencyHelpers,"formatForCurrency",((costInCents,locale,currencyCode="EUR",fractionDigits=0)=>"string"==typeof costInCents?_CurrencyHelpers.formatStringForCurrency(costInCents,locale,currencyCode,fractionDigits):"number"==typeof costInCents?_CurrencyHelpers.formatNumberForCurrency(costInCents,locale,currencyCode,fractionDigits):_CurrencyHelpers.formatMoneyCurrency(costInCents,locale))),(0,defineProperty.A)(CurrencyHelpers,"addCurrency",((value1,value2)=>(value1||(value1={centAmount:0}),value2||(value2={centAmount:0}),value1.fractionDigits!==value2.fractionDigits&&value1.fractionDigits&&value2.fractionDigits&&Log.warn(new Error(`Money with different fraction codes passed to addCurrency, value returned will be innacurate. Value 1: ${value1.fractionDigits}, value 2: ${value2.fractionDigits}`)),value1.currencyCode!==value2.currencyCode&&value1.currencyCode&&value2.currencyCode&&Log.warn(new Error(`Money with different currency codes passed to addCurrency, value returned will be innacurate. Value 1: ${value1.currencyCode}, value 2: ${value2.currencyCode}`)),{fractionDigits:value1.fractionDigits||value2.fractionDigits,centAmount:value1.centAmount+value2.centAmount,currencyCode:value1.currencyCode||value2.currencyCode}))),(0,defineProperty.A)(CurrencyHelpers,"subtractCurrency",((value1,value2)=>(value1.fractionDigits!==value2.fractionDigits&&Log.warn(new Error(`Money with different fraction codes passed to addCurrency, value returned will be innacurate. Value 1: ${value1.fractionDigits}, value 2: ${value2.fractionDigits}`)),value1.currencyCode!==value2.currencyCode&&Log.warn(new Error(`Money with different currency codes passed to addCurrency, value returned will be innacurate. Value 1: ${value1.currencyCode}, value 2: ${value2.currencyCode}`)),{fractionDigits:value1.fractionDigits||value2.fractionDigits,centAmount:value1.centAmount-value2.centAmount,currencyCode:value1.currencyCode||value2.currencyCode}))),(0,defineProperty.A)(CurrencyHelpers,"multiplyCurrency",((value,numberOfItems)=>({fractionDigits:value.fractionDigits,centAmount:value.centAmount*numberOfItems,currencyCode:value.currencyCode})));var accordion=__webpack_require__("./src/components/molecules/accordion/index.tsx"),useDisclosure=__webpack_require__("./src/hooks/useDisclosure/index.ts"),calculate_transaction=__webpack_require__("./src/lib/utils/calculate-transaction.ts");function ChevronDownIcon({title,titleId,...props},svgRef){return react.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:svgRef,"aria-labelledby":titleId},props),title?react.createElement("title",{id:titleId},title):null,react.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const esm_ChevronDownIcon=react.forwardRef(ChevronDownIcon);var accordion_button_jsx=react.createElement;const AccordionButton=({open,toggleAccordion,total})=>{const{translate}=(0,useTranslation.A)(),accordionContentClassNames=(0,classnames.p)("flex w-full justify-between border-t py-16",open?"border-t":""),arrowClassNames=(0,classnames.p)(open?"rotate-180":"","mr-8 transition");return accordion_button_jsx("div",{className:"w-full"},accordion_button_jsx("div",{className:accordionContentClassNames,onClick:toggleAccordion},accordion_button_jsx(typography.A,{fontSize:16},translate("cart.your.order")),accordion_button_jsx("div",{className:"flex"},accordion_button_jsx(typography.A,{fontSize:16,className:"hidden pr-8 md:block"},CurrencyHelpers.formatForCurrency(total)),accordion_button_jsx(esm_ChevronDownIcon,{width:20,strokeWidth:1.5,className:arrowClassNames}))))},accordion_button=AccordionButton;AccordionButton.__docgenInfo={description:"",methods:[],displayName:"AccordionButton",props:{open:{required:!0,tsType:{name:"boolean"},description:""},toggleAccordion:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},total:{required:!0,tsType:{name:"Required",elements:[{name:"Money"}],raw:"Required<Money>"},description:""}}};var summary_accordion_jsx=react.createElement;function summary_accordion_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const SummaryAccordion=({className,order,cart,transaction})=>{const data=function summary_accordion_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?summary_accordion_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):summary_accordion_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},order??cart),{locale}=(0,router.useRouter)(),{isOpen,onToggle}=(0,useDisclosure.A)(),accordionClassNames=(0,classnames.p)("block lg:mt-40",className),lineItemClassNames=index=>"\n      flex justify-start py-16\n      "+(data?.lineItems&&index===data.lineItems.length-1?"":"border-b"),{total}=(0,calculate_transaction.$)(data);return summary_accordion_jsx(accordion.A,{className:accordionClassNames,isExpanded:isOpen},summary_accordion_jsx(accordion_button,{open:isOpen,toggleAccordion:onToggle,total}),summary_accordion_jsx(accordion.A.Panel,{className:"grid max-h-[400px] w-full grid-cols-1 overflow-auto"},data?.lineItems?.map(((lineItem,index)=>summary_accordion_jsx("div",{key:lineItem.lineItemId,className:lineItemClassNames(index)},lineItem.variant?.images?.[0]&&summary_accordion_jsx("div",{className:"relative h-[104px] w-[88px] shrink-0"},summary_accordion_jsx(Image.A,{src:lineItem.variant.images[0],alt:lineItem.name??"item image"})),summary_accordion_jsx("div",{className:"flex flex-col justify-center gap-8 pl-16 text-14 text-primary"},summary_accordion_jsx(typography.A,null,lineItem?.name),summary_accordion_jsx(typography.A,null,CurrencyHelpers.formatForCurrency(lineItem?.price,locale)),summary_accordion_jsx(typography.A,null,`x ${lineItem?.count}`)))))),summary_accordion_jsx(costs.A,{classNames:{container:"bg-neutral-200 py-4 md:py-6 lg:pb-11"},subtotal:transaction?.subtotal.centAmount??0,shipping:transaction?.shipping.centAmount??0,discount:transaction?.discount.centAmount??0,tax:transaction?.tax.centAmount??0,total:transaction?.total.centAmount??0,currency:transaction?.total.currencyCode??"USD"}))},summary_accordion=SummaryAccordion;SummaryAccordion.__docgenInfo={description:"",methods:[],displayName:"SummaryAccordion",props:{className:{required:!1,tsType:{name:"string"},description:""},order:{required:!1,tsType:{name:"Order"},description:""},cart:{required:!1,tsType:{name:"Cart"},description:""},transaction:{required:!1,tsType:{name:"Transaction"},description:""}}};var closed_button_jsx=react.createElement;const ClosedButton=({lineItems,hiddenItemsCount,open,onClick})=>{const{translate}=(0,useTranslation.A)(),arrowClassNames=(0,classnames.p)(open?"rotate-180":"","mr-8 transition"),lineItemOrderSummary=(0,react.useMemo)((()=>lineItems.slice(0,3)),[lineItems]);return closed_button_jsx("div",{className:"flex w-full flex-col overflow-x-visible pb-4",onClick},closed_button_jsx("div",{className:"flex w-full justify-between"},closed_button_jsx(typography.A,{fontSize:16,className:"text-secondary"},translate("orders.your.order")),closed_button_jsx(esm_ChevronDownIcon,{width:20,strokeWidth:1.5,className:arrowClassNames})),closed_button_jsx("div",{className:"mt-12 flex justify-between pr-20"},!open&&closed_button_jsx("div",{className:"flex w-[70%] items-center"},lineItemOrderSummary?.map((lineItem=>closed_button_jsx("div",{key:lineItem?.lineItemId,className:"pr-16"},lineItem?.variant?.images?.[0]&&closed_button_jsx("div",{key:lineItem?.lineItemId,className:"relative mr-12 h-[104px] w-[88px] shrink-0"},closed_button_jsx(Image.A,{fill:!0,src:lineItem.variant.images[0],style:{objectFit:"contain"},alt:lineItem.name??"item image"})))))),hiddenItemsCount>0&&!open&&closed_button_jsx("div",{className:"flex items-center"},closed_button_jsx(typography.A,{fontSize:16,className:"mr-8 whitespace-nowrap text-secondary"},`+ ${hiddenItemsCount}`))))},closed_button=ClosedButton;ClosedButton.__docgenInfo={description:"",methods:[],displayName:"ClosedButton",props:{hiddenItemsCount:{required:!0,tsType:{name:"number"},description:""},lineItems:{required:!0,tsType:{name:"Array",elements:[{name:"LineItem"}],raw:"LineItem[]"},description:""},open:{required:!0,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var order_item_jsx=react.createElement;const OrderItem=({lineItem})=>{const{locale}=(0,router.useRouter)();return order_item_jsx("div",{key:lineItem.lineItemId,className:"flex justify-start border-b py-16"},lineItem.variant?.images?.[0]&&order_item_jsx("div",{className:"relative h-[104px] w-[88px] shrink-0"},order_item_jsx(Image.A,{fill:!0,src:lineItem.variant.images[0],style:{objectFit:"contain"},alt:lineItem.name??"order item image"})),order_item_jsx("div",{className:"flex flex-col justify-center pl-16"},order_item_jsx(typography.A,{fontSize:14,className:"uppercase text-primary"},lineItem?.name),order_item_jsx(typography.A,{fontSize:14,fontWeight:"medium",className:"mt-8 text-primary"},CurrencyHelpers.formatForCurrency(lineItem?.price,locale)),order_item_jsx(typography.A,{fontSize:14,className:"mt-8 text-primary"},`x ${lineItem?.count}`)))},order_item=OrderItem;OrderItem.__docgenInfo={description:"",methods:[],displayName:"OrderItem",props:{lineItem:{required:!0,tsType:{name:"LineItem"},description:""}}};var order_items_list_jsx=react.createElement;const OrderItemsList=({lineItems,className})=>{const containerClassName=(0,classnames.p)("grid max-h-[316px] w-full grid-cols-1 divide-y divide-neutral-400 overflow-scroll",className);return order_items_list_jsx("div",{className:containerClassName},lineItems.map((lineItem=>order_items_list_jsx(order_item,{key:lineItem.productId,lineItem}))))},order_items_list=OrderItemsList;OrderItemsList.__docgenInfo={description:"",methods:[],displayName:"OrderItemsList",props:{className:{required:!1,tsType:{name:"string"},description:""},lineItems:{required:!0,tsType:{name:"Array",elements:[{name:"LineItem"}],raw:"LineItem[]"},description:""}}};var order_items_listing_jsx=react.createElement;const OrderItemsListing=({className,lineItems})=>{const{translate}=(0,useTranslation.A)(),{0:open,1:setOpen}=(0,react.useState)(!1),containerClassName=(0,classnames.p)("grid w-full grid-cols-1",className),accordionClassNames=(0,classnames.p)("hidden lg:block lg:pt-0",className),listClassNames=(0,classnames.p)("block lg:hidden",className),hiddenItemsCount=(0,react.useMemo)((()=>(lineItems?.length??0)-3),[lineItems?.length]);return order_items_listing_jsx(react.Fragment,null,1===lineItems.length?order_items_listing_jsx("div",{className:containerClassName},order_items_listing_jsx("div",{className:"border-b pb-16"},order_items_listing_jsx(typography.A,{fontSize:16,className:"text-secondary"},translate("orders.your.order"))),order_items_listing_jsx(order_item,{lineItem:lineItems[0]})):order_items_listing_jsx(accordion.A,{className:accordionClassNames},order_items_listing_jsx(closed_button,{hiddenItemsCount,lineItems,open,onClick:()=>setOpen(!open)}),order_items_listing_jsx(order_items_list,{lineItems})),order_items_listing_jsx(order_items_list,{className:listClassNames,lineItems}))},order_items_listing=OrderItemsListing;OrderItemsListing.__docgenInfo={description:"",methods:[],displayName:"OrderItemsListing",props:{className:{required:!1,tsType:{name:"string"},description:""},lineItems:{required:!0,tsType:{name:"Array",elements:[{name:"LineItem"}],raw:"LineItem[]"},description:""}}};const order_summary_excluded=["title","className","includeSummaryAccordion","includeItemsList","transaction","discounts","onDiscountRedeem"];var order_summary_jsx=react.createElement;const OrderSummary=_ref=>{let{title,className,includeSummaryAccordion,includeItemsList,transaction,discounts,onDiscountRedeem}=_ref,props=(0,objectWithoutProperties.A)(_ref,order_summary_excluded);const{translate}=(0,useTranslation.A)(),itemsListClassName=(0,classnames.p)("mb-6 border-y border-neutral-400",props.classNames?.itemsList);return order_summary_jsx("div",{className},title&&order_summary_jsx("div",{className:"hidden py-4 md:py-6 lg:block lg:pb-6 lg:pt-0"},order_summary_jsx(typography.A,{fontSize:16,className:"md:text-18"},title)),includeItemsList&&props.order?.lineItems&&order_summary_jsx(order_items_listing,{className:itemsListClassName,lineItems:props.order?.lineItems}),includeSummaryAccordion&&order_summary_jsx(summary_accordion,{className:"lg:hidden",order:props.order,cart:props.cart,transaction}),includeSummaryAccordion&&order_summary_jsx(discounts_form.A,{className:`${props.classNames?.applyDiscountButton} block lg:hidden`,discounts:discounts??[],onSubmit:onDiscountRedeem,customError:translate("cart.quote.cannot.apply.discount")}),!includeSummaryAccordion&&order_summary_jsx(order_payment_section,(0,esm_extends.A)({className:""+(includeSummaryAccordion?"hidden lg:block":""),transaction,discounts:discounts??[],onDiscountRedeem,classNames:{applyDiscountButton:"py-3 text-16",totalAmount:"text-18 md:pb-5",subCostsContainer:"pt-3 md:pt-4 mb-5 lg:py-6 lg:mb-4 lg:border-b border-neutral-400"}},props)))},order_summary=OrderSummary;OrderSummary.__docgenInfo={description:"",methods:[],displayName:"OrderSummary",props:{title:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},classNames:{required:!1,tsType:{name:"ClassNames"},description:""},cart:{required:!1,tsType:{name:"Cart"},description:""},order:{required:!1,tsType:{name:"Order"},description:""},includeItemsList:{required:!1,tsType:{name:"boolean"},description:""},includeSummaryAccordion:{required:!1,tsType:{name:"boolean"},description:""},paymentMethods:{required:!1,tsType:{name:"Array",elements:[{name:"PaymentMethod"}],raw:"Array<PaymentMethod>"},description:""},dataReference:{required:!1,tsType:{name:"union",raw:"'order' | 'cart'",elements:[{name:"literal",value:"'order'"},{name:"literal",value:"'cart'"}]},description:""},button:{required:!1,tsType:{name:"ReactElement",elements:[{name:"unknown"}],raw:"ReactElement<unknown>"},description:""},transaction:{required:!1,tsType:{name:"Transaction"},description:""},discounts:{required:!1,tsType:{name:"Array",elements:[{name:"intersection",raw:"Discount & { onRemove?: () => Promise<boolean> }",elements:[{name:"Discount"},{name:"signature",type:"object",raw:"{ onRemove?: () => Promise<boolean> }",signature:{properties:[{key:"onRemove",value:{name:"signature",type:"function",raw:"() => Promise<boolean>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"boolean"}],raw:"Promise<boolean>"}},required:!1}}]}}]}],raw:"Array<Discount & { onRemove?: () => Promise<boolean> }>"},description:""},onDiscountRedeem:{required:!1,tsType:{name:"signature",type:"function",raw:"(code: string) => Promise<boolean>",signature:{arguments:[{type:{name:"string"},name:"code"}],return:{name:"Promise",elements:[{name:"boolean"}],raw:"Promise<boolean>"}}},description:""}}};var quantity_widget=__webpack_require__("./src/components/atoms/quantity-widget/index.tsx"),atoms_link=__webpack_require__("./src/components/atoms/link/index.tsx");function ArrowUturnLeftIcon({title,titleId,...props},svgRef){return react.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:svgRef,"aria-labelledby":titleId},props),title?react.createElement("title",{id:titleId},title):null,react.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const esm_ArrowUturnLeftIcon=react.forwardRef(ArrowUturnLeftIcon);var atoms_button=__webpack_require__("./src/components/atoms/button/index.tsx"),useFormat=__webpack_require__("./src/hooks/useFormat/index.ts"),stock_indicator=__webpack_require__("./src/components/atoms/stock-indicator/index.tsx"),cart_item_header_jsx=react.createElement;const CartItemHeader=({item,className})=>{const{translate}=(0,useTranslation.A)();return cart_item_header_jsx("div",{className},cart_item_header_jsx(atoms_link.A,{href:item.url??"#",className:"max-w-full truncate text-14 font-semibold leading-loose text-gray-800 md:text-16"},item.name),cart_item_header_jsx("div",{className:"mt-3 flex items-center gap-3 md:mt-2 md:grid md:gap-5"},item.sku&&cart_item_header_jsx("p",{className:"truncate text-12 leading-loose text-gray-600"},`${translate("common.model")}# ${item.sku}`),cart_item_header_jsx(stock_indicator.A,{inStock:item.inStock})))},cart_item_header=CartItemHeader;CartItemHeader.__docgenInfo={description:"",methods:[],displayName:"CartItemHeader",props:{item:{required:!0,tsType:{name:"Product"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};var move_to_list=__webpack_require__("./src/components/molecules/move-to-list/index.tsx"),store_and_business_units=__webpack_require__("./src/providers/store-and-business-units/index.tsx"),map_store=__webpack_require__("./src/utils/mappers/map-store.ts");const mapPurchaseItem=({lineItemId,name,count,variant,_url})=>({id:lineItemId,sku:variant?.sku??"",url:_url??"#",name:name??"",quantity:count??1,image:variant?.images?.[0],price:(variant?.price?.centAmount??0)/Math.pow(10,variant?.price?.fractionDigits??2),currency:variant?.price?.currencyCode??"AUD",inStock:!!variant?.isOnStock}),mapPurchaseList=({wishlistId,name,description,lineItems,store})=>({id:wishlistId,name:name??"",store:store?(0,map_store.u)(store):void 0,description:description??"",items:(lineItems??[]).map(mapPurchaseItem)});var sdk=__webpack_require__("./src/sdk/index.ts"),index=__webpack_require__("./node_modules/swr/dist/index/index.mjs"),_internal=__webpack_require__("./node_modules/swr/dist/_internal/index.mjs"),useCustomRouter=__webpack_require__("./src/hooks/useCustomRouter/index.ts"),useAccount=__webpack_require__("./src/lib/hooks/useAccount/index.ts");const hooks_usePurchaseLists=storeKey=>{const router=(0,useCustomRouter.A)(),{mutate:globalMutate}=(0,_internal.iX)(),account=(0,useAccount.A)(),response=(0,index.Ay)(storeKey&&account.account?.accountId?["/action/wishlist/",storeKey]:null,(()=>sdk.x.composableCommerce.wishlist.queryWishlists({accountId:account.account?.accountId??"",storeKey:storeKey??"",limit:500}))),{mutate}=response,isLoading=!(storeKey&&account.account?.accountId)||response.isLoading,mutateAll=(0,react.useCallback)((()=>{globalMutate((key=>"object"==typeof key&&"/action/wishlist/"===key?.[0]))}),[globalMutate]),createPurchaseList=(0,react.useCallback)((async({name,description,store})=>{const res=await sdk.x.composableCommerce.wishlist.createWishlist({name,description},{storeKey:store?.key??""});return mutate(),res.isError?null:res.data}),[mutate]),updatePurchaseList=(0,react.useCallback)((async({wishlistId,name,description})=>{const res=await sdk.x.composableCommerce.wishlist.updateWishlist({name,description},{id:wishlistId});return mutate(),globalMutate(["/action/wishlist/getWishlist",wishlistId]),router.refresh(),res.isError?null:res.data}),[mutate,globalMutate,router]),deletePurchaseList=(0,react.useCallback)((async({wishlistId,store})=>{const res=await sdk.x.callAction({actionName:`wishlist/deleteWishlist?id=${wishlistId}&storeKey=${store?.key??""}`});return mutate(),res.isError?null:res.data}),[mutate]),addToWishlists=(0,react.useCallback)((async({wishlistIds,sku,count})=>{const result=await sdk.x.callAction({actionName:"wishlist/addToWishlists",payload:{wishlistIds,variant:{sku},count}});return mutate(),wishlistIds.forEach((wishlistId=>globalMutate(["/action/wishlist/getWishlist",wishlistId]))),router.refresh(),result.isError?{}:{data:result?.data}}),[mutate,globalMutate,router]),removeFromWishlists=(0,react.useCallback)((async wishlists=>{const result=await sdk.x.callAction({actionName:"wishlist/removeLineItems",payload:{wishlists}});return mutate(),wishlists.forEach((({wishlistId})=>globalMutate(["/action/wishlist/getWishlist",wishlistId]))),router.refresh(),result.isError?{}:{data:result?.data}}),[mutate,globalMutate,router]);return{purchaseLists:response.data?.isError?null:response.data?.data??null,isLoading,mutateAll,createPurchaseList,updatePurchaseList,deletePurchaseList,addToWishlists,removeFromWishlists}},hooks_usePurchaseList=id=>{const{account}=(0,useAccount.A)(),response=(0,index.Ay)(["/action/wishlist/getWishlist",id],(()=>id&&account?.accountId?sdk.x.composableCommerce.wishlist.queryWishlists({accountId:account.accountId,wishlistIds:[id]}):null)),{mutate}=(0,_internal.iX)(),{mutateAll}=hooks_usePurchaseLists();return{purchaseList:response.data?.isError?void 0:response.data?.data.items[0],addItem:(0,react.useCallback)((async({wishlistId,sku,count})=>{const res=await sdk.x.composableCommerce.wishlist.addToWishlist({variant:{sku},count},{id:wishlistId});return mutateAll(),res.isError||mutate(["/action/wishlist/getWishlist",wishlistId]),res.isError?{}:{data:res?.data}}),[mutate,mutateAll]),updateItem:(0,react.useCallback)((async({wishlistId,lineItemId,count})=>{const res=await sdk.x.composableCommerce.wishlist.updateItem({lineItem:{id:lineItemId},count},{id:wishlistId});return mutateAll(),res.isError||mutate(["/action/wishlist/getWishlist",wishlistId]),res.isError?{}:{data:res?.data}}),[mutate,mutateAll]),removeItem:(0,react.useCallback)((async({wishlistId,lineItemId})=>{const res=await sdk.x.composableCommerce.wishlist.removeItem({lineItem:{id:lineItemId}},{id:wishlistId});return mutateAll(),res.isError||mutate(["/action/wishlist/getWishlist",wishlistId]),res.isError?null:res.data}),[mutate,mutateAll])}};var cart_item_footer_jsx=react.createElement;const CartItemFooter=({className,onRemove,item,onAddToNewWishlist,isQuotationCart})=>{const{translate}=(0,useTranslation.A)(),ClassNames=(0,classnames.p)("mt-5 flex items-center gap-3 py-5 md:mt-8 md:gap-5 md:py-0",className),{selectedStore}=(0,store_and_business_units.rW)(),{purchaseLists}=hooks_usePurchaseLists(selectedStore?.key),{addItem}=hooks_usePurchaseList();return cart_item_footer_jsx("div",{className:ClassNames},cart_item_footer_jsx(move_to_list.A,{disabled:isQuotationCart,lists:purchaseLists?.items.map(mapPurchaseList).map((list=>({id:list.id,label:list.name})))??[],onAddNewList:onAddToNewWishlist,onSubmit:async selected=>{await Promise.all(selected.map((listId=>addItem({wishlistId:listId,sku:item.sku??"",count:1}))))}}),cart_item_footer_jsx(typography.A,{className:"text-neutral-400"},"|"),cart_item_footer_jsx(atoms_button.A,{variant:"ghost",size:"fit",className:"flex-1 text-center text-14 font-medium text-gray-700 md:flex-[unset] md:text-start",onClick:onRemove,disabled:isQuotationCart},translate("common.remove")))},cart_item_footer=CartItemFooter;CartItemFooter.__docgenInfo={description:"",methods:[],displayName:"CartItemFooter",props:{item:{required:!0,tsType:{name:"Product"},description:""},className:{required:!1,tsType:{name:"string"},description:""},isQuotationCart:{required:!1,tsType:{name:"boolean"},description:""}}};var cart_item_jsx=react.createElement;const CartItem=({item,onUpdateQuantity,onRemove,onUndoRemove,onAddToNewWishlist})=>{const{formatCurrency}=(0,useFormat.A)(),{translate}=(0,useTranslation.A)();return item.deleted?cart_item_jsx("div",{className:"flex flex-col items-center px-4 py-8"},cart_item_jsx("p",{className:"pb-8 text-center text-gray-600"},cart_item_jsx(atoms_link.A,{href:item.url??"#",className:"inline text-primary underline"},item.name)," ",translate("cart.item.was.removed")),cart_item_jsx(atoms_button.A,{variant:"secondary",size:"m",Icon:esm_ArrowUturnLeftIcon,onClick:onUndoRemove},translate("common.undo"))):cart_item_jsx("div",{className:"pt-5 md:py-8 lg:gap-12"},cart_item_jsx(cart_item_header,{className:"md:hidden",item}),cart_item_jsx("div",{className:"mt-10 flex max-w-full items-stretch justify-start md:mt-0 md:gap-10"},cart_item_jsx(atoms_link.A,{href:item.url??"#"},cart_item_jsx("div",{className:"md:size-[124px] lg:size-[132px]"},cart_item_jsx(Image.A,{className:"size-full",src:item.images?.[0],style:{objectFit:"contain"},width:108,height:108,suffix:"small",alt:"product image"}))),cart_item_jsx("div",{className:"flex w-full justify-center md:items-end md:justify-between md:gap-6 lg:gap-12"},cart_item_jsx("div",null,cart_item_jsx(cart_item_header,{className:"hidden md:block",item}),cart_item_jsx(cart_item_footer,{className:"hidden md:flex",onRemove,item,onAddToNewWishlist})),cart_item_jsx("div",{className:"flex flex-col items-center justify-center gap-2 lg:gap-3"},item.quantity&&item.quantity>1&&cart_item_jsx(typography.A,{lineHeight:"loose",fontSize:12,className:"text-gray-600"},`${formatCurrency(item.discountedPrice??item.price??0,item.currency)}/ea`),cart_item_jsx(quantity_widget.A,{showLabel:!1,defaultValue:1,value:item.quantity,minValue:Math.min(1,item.maxQuantity??1/0),maxValue:item.maxQuantity,onChange:onUpdateQuantity}),cart_item_jsx("div",null,item.discountedPrice?cart_item_jsx("div",{className:"relative"},cart_item_jsx(typography.A,{lineHeight:"tight",fontSize:14,className:"absolute -left-2 top-1/2 -translate-x-full -translate-y-1/2 font-normal text-gray-600 line-through"},formatCurrency((item.price??0)*(item.quantity??1),item.currency)),cart_item_jsx(typography.A,{lineHeight:"loose",fontSize:16,fontWeight:"semibold",className:"text-center text-red-500 md:text-18"},formatCurrency(item.discountedPrice*(item.quantity??1),item.currency))):cart_item_jsx(typography.A,{lineHeight:"loose",fontSize:16,fontWeight:"semibold",className:"text-center text-gray-700 md:text-18"},formatCurrency((item.price??0)*(item.quantity??1),item.currency)))))),cart_item_jsx(cart_item_footer,{onAddToNewWishlist,className:"justify-between md:hidden",onRemove,item}))},cart_item=CartItem;CartItem.__docgenInfo={description:"",methods:[],displayName:"CartItem",props:{item:{required:!0,tsType:{name:"intersection",raw:"Product & { deleted?: boolean }",elements:[{name:"Product"},{name:"signature",type:"object",raw:"{ deleted?: boolean }",signature:{properties:[{key:"deleted",value:{name:"boolean",required:!1}}]}}]},description:""},classNames:{required:!1,tsType:{name:"ClassNames"},description:""},onUpdateQuantity:{required:!0,tsType:{name:"signature",type:"function",raw:"(qty: number) => Promise<void>",signature:{arguments:[{type:{name:"number"},name:"qty"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onUndoRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onAddToNewWishlist:{required:!0,tsType:{name:"signature",type:"function",raw:"(\n  list: Pick<PurchaseList, 'name' | 'description' | 'store'>,\n  sku?: string,\n  qty?: number,\n) => Promise<Wishlist | null>",signature:{arguments:[{type:{name:"Pick",elements:[{name:"PurchaseList"},{name:"union",raw:"'name' | 'description' | 'store'",elements:[{name:"literal",value:"'name'"},{name:"literal",value:"'description'"},{name:"literal",value:"'store'"}]}],raw:"Pick<PurchaseList, 'name' | 'description' | 'store'>"},name:"list"},{type:{name:"string"},name:"sku"},{type:{name:"number"},name:"qty"}],return:{name:"Promise",elements:[{name:"union",raw:"Wishlist | null",elements:[{name:"Wishlist"},{name:"null"}]}],raw:"Promise<Wishlist | null>"}}},description:""}}};var cart_items_list_jsx=react.createElement;const CartItemsList=({lineItems,onUpdateQuantity,onRemove,onAdd,onAddToNewWishlist})=>{const{translate}=(0,useTranslation.A)(),inStockItems=lineItems?.filter((item=>!!item.inStock))??[],soldOutItems=lineItems?.filter((item=>!item.inStock))??[];return cart_items_list_jsx("div",{className:"mt-3 divide-y divide-neutral-400 border-t border-neutral-400 lg:mt-8 lg:border-none"},inStockItems?.map((lineItem=>cart_items_list_jsx("div",{key:lineItem.id},cart_items_list_jsx(cart_item,{onAddToNewWishlist:list=>onAddToNewWishlist(list,lineItem.sku,lineItem.quantity??1),item:lineItem,classNames:{moveToWishlist:"text-14"},onUndoRemove:()=>onAdd(lineItem.sku,lineItem.quantity??1),onUpdateQuantity:qty=>0===qty?onRemove(lineItem.id):onUpdateQuantity(lineItem.id,qty),onRemove:()=>onRemove(lineItem.id)})))),soldOutItems?.length>0&&cart_items_list_jsx("div",{className:"border-t border-neutral-400 pt-9"},cart_items_list_jsx("h3",{className:"text-16 md:text-18 lg:text-22"},translate("product.sold.out")),cart_items_list_jsx("div",{className:"mt-12"},soldOutItems.map((lineItem=>cart_items_list_jsx("div",{key:lineItem.id},cart_items_list_jsx(cart_item,{onAddToNewWishlist:list=>onAddToNewWishlist(list,lineItem.sku),item:lineItem,classNames:{moveToWishlist:"text-14"},onUpdateQuantity:qty=>0===qty?onRemove(lineItem.id):onUpdateQuantity(lineItem.id,qty),onRemove:()=>onRemove(lineItem.id)})))))))},cart_items_list=CartItemsList;CartItemsList.__docgenInfo={description:"",methods:[],displayName:"CartItemsList"};var loading_icon=__webpack_require__("./src/components/atoms/loading-icon/index.tsx"),empty_cart_jsx=react.createElement;const EmptyCart=({loading})=>{const{translate}=(0,useTranslation.A)();return loading?empty_cart_jsx("div",{className:"flex w-full justify-center"},empty_cart_jsx(loading_icon.A,{svgWidth:20,svgHeight:20,className:"fill-gray-700"})):empty_cart_jsx("div",{className:"mx-auto grid w-fit place-items-center gap-12"},empty_cart_jsx("div",{className:"grid place-items-center gap-6"},empty_cart_jsx(typography.A,{fontSize:20,className:"text-gray-700"},translate("cart.empty")),empty_cart_jsx(Image.A,{src:"/images/empty-cart.png",width:144,height:144,alt:"empty cart image"})),empty_cart_jsx(typography.A,{fontSize:16,lineHeight:"loose",className:"text-gray-600"},translate("cart.no.items.added")),empty_cart_jsx(atoms_link.A,{href:"/",underlineOnHover:!1},empty_cart_jsx(atoms_button.A,{size:"l"},translate("cart.continue.shopping"))))},empty_cart=EmptyCart;EmptyCart.__docgenInfo={description:"",methods:[],displayName:"EmptyCart",props:{loading:{required:!1,tsType:{name:"boolean"},description:""}}};var cart_content_jsx=react.createElement;const CartContent=({loading,className,lineItems,onUpdateQuantity,onRemove,onAdd,onAddToNewWishlist})=>{const{translate}=(0,useTranslation.A)();return cart_content_jsx("div",{className},lineItems?.length??0?cart_content_jsx(react.Fragment,null,cart_content_jsx("div",{className:"flex items-center gap-1"},cart_content_jsx(typography.A,{fontSize:16,className:"text-gray-700 md:text-18 lg:text-20"},translate("cart.cart")),cart_content_jsx(typography.A,{fontSize:16,className:"text-gray-600 md:text-18 lg:text-20"},`(${lineItems?.filter((item=>!item.deleted)).reduce(((sum,item)=>sum+(item&&item.quantity?item.quantity:0)),0)} ${translate("cart.items")})`)),cart_content_jsx(cart_items_list,{lineItems,onAdd,onUpdateQuantity,onRemove,onAddToNewWishlist})):cart_content_jsx(empty_cart,{loading}))},cart_content=CartContent;CartContent.__docgenInfo={description:"",methods:[],displayName:"CartContent",props:{className:{required:!1,tsType:{name:"string"},description:""}}};var toast=__webpack_require__("./src/components/atoms/toaster/helpers/toast.tsx"),checkout_cta_jsx=react.createElement;const CheckoutCTA=({className,link,quoteCheckoutLink,disabled,text,onCheckout,checkoutDisabled,quoteRequestDisabled})=>{const{translate}=(0,useTranslation.A)(),handleDisabledClick=(0,react.useCallback)((()=>{disabled&&toast.A.error(translate("cart.attempt.with.outofstock.item"),{position:"top-right"})}),[disabled,translate]),CTAClassName=(0,classnames.p)(className,"gap-4");return checkout_cta_jsx("div",{className:CTAClassName},checkout_cta_jsx(atoms_link.A,{href:disabled||checkoutDisabled?"#":link,className:"w-full",underlineOnHover:!1,onClick:handleDisabledClick},checkout_cta_jsx(atoms_button.A,{size:"full",disabled:disabled||checkoutDisabled,onClick:onCheckout},text)),checkout_cta_jsx(atoms_link.A,{href:disabled||quoteRequestDisabled?"#":quoteCheckoutLink,className:"w-full",underlineOnHover:!1,onClick:handleDisabledClick},checkout_cta_jsx(atoms_button.A,{size:"full",variant:"secondary",disabled:disabled||quoteRequestDisabled},translate("cart.request.quote"))))},checkout_cta=CheckoutCTA;CheckoutCTA.__docgenInfo={description:"",methods:[],displayName:"CheckoutCTA",props:{className:{required:!1,tsType:{name:"string"},description:""},link:{required:!0,tsType:{name:"string"},description:""},quoteCheckoutLink:{required:!0,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},text:{required:!0,tsType:{name:"string"},description:""},quoteRequestDisabled:{required:!1,tsType:{name:"boolean"},description:""},checkoutDisabled:{required:!1,tsType:{name:"boolean"},description:""},onCheckout:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onRequestQuote:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};const cart_excluded=["loading","paymentMethods","transaction","lineItems","onClear","viewCartDisabled","quoteRequestDisabled","checkoutDisabled","invalidAddressesRequirements","discountCodes","onDiscountRedeem"];var cart_jsx=react.createElement;function cart_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function cart_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?cart_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cart_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const Cart=_ref=>{let{loading,paymentMethods,transaction,lineItems:lineItemsProp,onClear,viewCartDisabled=!1,quoteRequestDisabled=!1,checkoutDisabled=!1,invalidAddressesRequirements=!1,discountCodes,onDiscountRedeem}=_ref,props=(0,objectWithoutProperties.A)(_ref,cart_excluded);const{translate}=(0,useTranslation.A)(),{0:lineItems,1:setLineItems}=(0,react.useState)(lineItemsProp),allItemsAreDeleted=!lineItems?.filter((item=>!item.deleted)).length,containsOutOfStockItem=lineItems?.some((item=>!item.inStock));(0,react.useEffect)((()=>{lineItemsProp&&setLineItems((lineItems=>{if(!lineItems)return lineItemsProp;const newItems=lineItemsProp.filter((lineItem=>!lineItems.find((item=>lineItem.sku===item.sku))));return[...lineItems.map((lineItem=>{const item=lineItemsProp.find((item=>lineItem.sku===item.sku));return cart_objectSpread(cart_objectSpread({},item??lineItem),{},{deleted:!item})})),...newItems]}))}),[lineItemsProp]);const closeFlyouts=hooks_useCloseFlyouts(),defaultCheckoutCTAProps={text:translate("cart.checkout.go"),link:"/checkout",quoteCheckoutLink:"/quote-checkout",onCheckout:closeFlyouts,onRequestQuote:closeFlyouts,onClear,checkoutDisabled,quoteRequestDisabled,disabled:allItemsAreDeleted||containsOutOfStockItem};return viewCartDisabled?cart_jsx("div",{className:"relative p-4 md:bg-neutral-200 md:px-5 md:py-6 lg:p-12"},cart_jsx("div",{className:"grid w-full place-items-center gap-12 rounded-lg bg-white py-9 pb-[80px]"},cart_jsx("div",{className:"grid place-items-center gap-6"},cart_jsx(typography.A,{className:"text-center text-16 text-gray-700 md:text-18 lg:text-20"},translate("cart.view.disabled")),cart_jsx(Image.A,{src:"/images/locked-cart.png",className:"w-[200px] md:w-[256px] lg:w-[328px]",alt:"Cart locked"})),cart_jsx(typography.A,{lineHeight:"loose",className:"max-w-[720px] text-center text-14 text-gray-600 md:text-16"},translate("cart.view.disabled.desc")))):cart_jsx("div",{className:"relative bg-neutral-200"},!invalidAddressesRequirements&&(quoteRequestDisabled||checkoutDisabled)&&cart_jsx("div",{className:"px-4 pt-3 md:px-8 lg:px-11"},cart_jsx(info_banner.A,null,cart_jsx("b",null,translate("common.view.only"))," ",translate("cart.checkout.request.disabled"))),invalidAddressesRequirements&&cart_jsx("div",{className:"px-4 pt-3 md:px-8 lg:px-11"},cart_jsx(info_banner.A,null,cart_jsx("b",null,translate("cart.checkout.unavailable")),": ",translate("cart.invalid.addresses.requirements"))),cart_jsx("div",{className:"flex flex-col bg-white py-4 md:py-6 lg:flex-row lg:items-start lg:gap-6 lg:bg-transparent lg:p-12"},cart_jsx(cart_content,(0,esm_extends.A)({loading,lineItems:lineItems??[],className:"grow bg-white px-4 py-3 md:px-6 lg:rounded-lg lg:p-9"},props)),(lineItems??[]).length>0?cart_jsx(react.Fragment,null,cart_jsx(order_summary,{className:"bg-white px-4 pb-3 md:px-6 md:pt-3 lg:mt-0 lg:rounded-lg lg:p-9 lg:px-12 lg:pb-11 xl:w-[432px] xl:shrink-0",title:"Order Summary",paymentMethods,button:cart_jsx(checkout_cta,(0,esm_extends.A)({className:(0,classnames.p)("hidden w-full md:grid",{"mt-4 md:mt-6 lg:pt-11":!quoteRequestDisabled||!checkoutDisabled})},defaultCheckoutCTAProps)),transaction,discounts:discountCodes,onDiscountRedeem}),cart_jsx(checkout_cta,(0,esm_extends.A)({className:"sticky bottom-0 grid w-full border-t border-neutral-400 bg-white p-4 md:hidden"},defaultCheckoutCTAProps))):cart_jsx(react.Fragment,null)))},organisms_cart=Cart;Cart.__docgenInfo={description:"",methods:[],displayName:"Cart",props:{loading:{required:!1,tsType:{name:"boolean"},description:""},lineItems:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:"Product & { deleted?: boolean }",elements:[{name:"Product"},{name:"signature",type:"object",raw:"{ deleted?: boolean }",signature:{properties:[{key:"deleted",value:{name:"boolean",required:!1}}]}}]}],raw:"ProductWithDeleteAttr[]"},description:""},account:{required:!0,tsType:{name:"Pick",elements:[{name:"Account"},{name:"literal",value:"'email'"}],raw:"Pick<Account, 'email'>"},description:""},paymentMethods:{required:!0,tsType:{name:"Array",elements:[{name:"PaymentMethod"}],raw:"Array<PaymentMethod>"},description:""},viewCartDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},quoteRequestDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},checkoutDisabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},invalidAddressesRequirements:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},discountCodes:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:"Discount & { onRemove?: () => Promise<boolean> }",elements:[{name:"Discount"},{name:"signature",type:"object",raw:"{ onRemove?: () => Promise<boolean> }",signature:{properties:[{key:"onRemove",value:{name:"signature",type:"function",raw:"() => Promise<boolean>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"boolean"}],raw:"Promise<boolean>"}},required:!1}}]}}]}],raw:"Array<Discount & { onRemove?: () => Promise<boolean> }>"},description:""},onAdd:{required:!0,tsType:{name:"signature",type:"function",raw:"(sku: string, qty: number) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"sku"},{type:{name:"number"},name:"qty"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onUpdateQuantity:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string, qty: number) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"number"},name:"qty"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onDiscountRedeem:{required:!1,tsType:{name:"signature",type:"function",raw:"(code: string) => Promise<boolean>",signature:{arguments:[{type:{name:"string"},name:"code"}],return:{name:"Promise",elements:[{name:"boolean"}],raw:"Promise<boolean>"}}},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},transaction:{required:!1,tsType:{name:"Transaction"},description:""}}};var cart_stories_jsx=react.createElement;const cart_stories={title:"Organisms/Cart",component:organisms_cart},Primary=(()=>cart_stories_jsx(organisms_cart,(0,esm_extends.A)({},cart,{account:{email:"madilyn@commercetools.com"},onRemove:async()=>{},onAdd:async()=>{},onUpdateQuantity:async()=>{},onAddToNewWishlist:async()=>Promise.resolve(null),paymentMethods:[],discountCodes:[]}))).bind({});Primary.args={};const __namedExportsOrder=["Primary"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"() => <Cart {...cart} account={{\n  email: 'madilyn@commercetools.com'\n}} onRemove={async () => {}} onAdd={async () => {}} onUpdateQuantity={async () => {}} onAddToNewWishlist={async () => Promise.resolve(null)} paymentMethods={[]} discountCodes={[]} />",...Primary.parameters?.docs?.source}}}},"./src/components/atoms/input/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>input});var esm_extends=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),XMarkIcon=__webpack_require__("./node_modules/@heroicons/react/24/solid/esm/XMarkIcon.js"),CheckIcon=__webpack_require__("./node_modules/@heroicons/react/24/solid/esm/CheckIcon.js"),classnames=__webpack_require__("./src/utils/classnames/classnames/index.ts"),useControllableState=__webpack_require__("./src/hooks/useControllableState/index.ts"),useDisclosure=__webpack_require__("./src/hooks/useDisclosure/index.ts");const hooks_useVariant=({disabled,readOnly,valid,error})=>disabled?"disabled":readOnly?"readOnly":valid?"valid":error?"error":"default";var atoms_label=__webpack_require__("./src/components/atoms/label/index.tsx"),cva=__webpack_require__("./src/utils/classnames/cva/index.ts");const hooks_useClassNames=(variant,isFocused,unStyled)=>{const resolveVariant=(0,cva.F)({default:(0,classnames.p)("border-gray-300 bg-white text-gray-600 focus:border-neutral-800 active:border-neutral-800",{"border-neutral-800":isFocused}),disabled:"cursor-not-allowed border-neutral-200 bg-neutral-200 text-neutral-800 focus:border-neutral-200",readOnly:"cursor-default border-neutral-200 bg-neutral-200 text-gray-600 focus:border-neutral-200 active:border-neutral-800",error:"border-red-500 bg-white text-gray-600 focus:border-red-500 active:border-red-500",valid:"border-green-500 bg-white text-gray-600 focus:border-green-500 active:border-green-500"});return{inputClassName:(0,classnames.p)("w-full border-none bg-transparent text-14 focus:outline-none focus:ring-0",{"px-3 py-[10px]":!unStyled}),containerClassName:(0,classnames.p)({"flex rounded-sm border focus:outline-none focus:ring-0":!unStyled,[resolveVariant(variant)]:!unStyled})}},_excluded=["icon","value","onChange","onClear","optionalLabel","onFocus","onBlur","label","disabled","readOnly","valid","error","required","clearButton","showOptionalLabel","requiredStyle","className","containerClassName","outerContainerClassName","unStyled","focusOnMount"];var __jsx=react.createElement;const Input=_ref=>{let{icon,value:valueProp,onChange,onClear,optionalLabel,onFocus:onFocusProp,onBlur:onBlurProp,label="",disabled=!1,readOnly=!1,valid=!1,error="",required=!1,clearButton=!1,showOptionalLabel=!1,requiredStyle="asterisk",className="",containerClassName="",outerContainerClassName="",unStyled=!1,focusOnMount=!1}=_ref,props=(0,objectWithoutProperties.A)(_ref,_excluded);const[value,setValue]=(0,useControllableState.A)(valueProp,""),{isOpen:isFocused,onOpen:onFocus,onClose:onBlur}=(0,useDisclosure.A)(),ref=(0,react.useRef)(null),mounted=(0,react.useRef)(!1),variant=hooks_useVariant({disabled,readOnly,valid,error}),{inputClassName,containerClassName:defaultContainerClassName}=hooks_useClassNames(variant,isFocused,unStyled),handleChange=(0,react.useCallback)((e=>{setValue(e.target.value),onChange?.(e)}),[onChange,setValue]),handleClear=(0,react.useCallback)((()=>{setValue(""),onClear?.()}),[onClear,setValue]);return(0,react.useEffect)((()=>{focusOnMount&&!mounted.current&&setTimeout((()=>ref.current?.focus())),mounted.current=!0}),[focusOnMount]),__jsx("div",{className:outerContainerClassName},__jsx(atoms_label.A,{required,showOptionalLabel,optionalLabel,requiredStyle,htmlFor:props.id||props.name},label),__jsx("div",{className:(0,classnames.p)(containerClassName,defaultContainerClassName)},__jsx("input",(0,esm_extends.A)({ref,className:(0,classnames.p)(inputClassName,className),value,readOnly,disabled,required,onChange:handleChange,onFocus:e=>{onFocus(),onFocusProp?.(e)},onBlur:e=>{onBlur(),onBlurProp?.(e)}},props,{id:props.id||props.name})),(clearButton||valid||icon)&&__jsx("div",{className:"flex items-center justify-center px-3"},clearButton&&__jsx(XMarkIcon.A,{"data-testid":"clear-button",width:16,height:16,className:"cursor-pointer text-gray-700",onClick:handleClear}),valid&&__jsx(CheckIcon.A,{"data-testid":"valid-icon",width:16,height:16,className:"text-green-500"}),icon&&__jsx("span",{className:"text-gray-700"},icon))),error&&__jsx("span",{className:"mt-3 block text-12 font-medium text-red-500"},error))},input=Input;Input.__docgenInfo={description:"",methods:[],displayName:"Input",props:{label:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},valid:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},error:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},clearButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},containerClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},outerContainerClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},unStyled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},focusOnMount:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disabled:{defaultValue:{value:"false",computed:!1},required:!1},readOnly:{defaultValue:{value:"false",computed:!1},required:!1},required:{defaultValue:{value:"false",computed:!1},required:!1},showOptionalLabel:{defaultValue:{value:"false",computed:!1},required:!1},requiredStyle:{defaultValue:{value:"'asterisk'",computed:!1},required:!1},className:{defaultValue:{value:"''",computed:!1},required:!1}},composes:["Pick"]}},"./src/components/atoms/label/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/providers/I18n/hooks/useTranslation/index.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const Label=({children,required,showOptionalLabel,optionalLabel,requiredStyle="asterisk",htmlFor})=>{const{translate}=(0,_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_1__.A)();return children||required?__jsx("div",{className:"mb-2 flex items-center justify-between"},children&&__jsx("label",{"aria-label":htmlFor,"data-testid":"label",htmlFor,className:"block text-14"},__jsx("span",{className:"text-gray-700"},children)," ",!required&&showOptionalLabel&&__jsx("span",{className:"lowercase text-gray-600"},"(",optionalLabel??translate("common.optional"),")"),required&&"asterisk"===requiredStyle&&__jsx("span",null,"*")),required&&"label"===requiredStyle&&__jsx("span",{className:"text-12 text-gray-500"},translate("common.field.required"))):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)},__WEBPACK_DEFAULT_EXPORT__=Label;Label.__docgenInfo={description:"",methods:[],displayName:"Label",props:{required:{required:!1,tsType:{name:"boolean"},description:""},requiredStyle:{required:!1,tsType:{name:"union",raw:"'asterisk' | 'label'",elements:[{name:"literal",value:"'asterisk'"},{name:"literal",value:"'label'"}]},description:"",defaultValue:{value:"'asterisk'",computed:!1}},showOptionalLabel:{required:!1,tsType:{name:"boolean"},description:""},optionalLabel:{required:!1,tsType:{name:"string"},description:""},htmlFor:{required:!1,tsType:{name:"string"},description:""}}}},"./src/components/atoms/quantity-widget/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/providers/I18n/hooks/useTranslation/index.ts"),_hooks_useControllableState__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/useControllableState/index.ts"),_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/classnames/classnames/index.ts"),_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/atoms/input/index.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const QuantityWidget=({value:valueProp,defaultValue=0,minValue=0,maxValue=Number.MAX_VALUE,onChange,disabled,showLabel=!0})=>{const{translate}=(0,_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_1__.A)(),[value,setValue]=(0,_hooks_useControllableState__WEBPACK_IMPORTED_MODULE_2__.A)(valueProp,Math.min(defaultValue,maxValue)),{0:rawValue,1:setRawValue}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value.toString()),handleDecrement=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{const newValue=Math.max(minValue,value-1);setValue(newValue),onChange?.(newValue)}),[value,minValue,setValue,onChange]),handleIncrement=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{const newValue=Math.min(maxValue,value+1);setValue(newValue),onChange?.(newValue)}),[value,maxValue,setValue,onChange]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setRawValue(value.toString())}),[value]);const handleRawValueChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{const value=e.target.value;""!==value&&isNaN(+value)||setRawValue(value)}),[]),handleRawValueSubmit=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{const number=Math.max(minValue,Math.min(maxValue,+rawValue));setValue(number),onChange?.(number),setRawValue(number.toString())}),[rawValue,minValue,maxValue,onChange,setValue]),boxClassName=(0,_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__.p)("flex size-[40px] items-center justify-center p-0"),buttonClassName=(0,_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__.p)("border-gray-300 bg-white transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:hover:bg-white");return __jsx("div",{className:"flex items-center gap-3"},showLabel&&__jsx("span",{className:"text-14 text-gray-700"},translate("common.quantity.shorthand")),__jsx("div",{className:"flex overflow-hidden rounded-md border border-gray-300 text-gray-700"},__jsx("button",{disabled:value<=minValue||disabled,className:(0,_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__.p)(boxClassName,buttonClassName,"border-r"),onClick:handleDecrement},"-"),__jsx("form",{className:boxClassName,onSubmit:e=>{e.preventDefault(),handleRawValueSubmit()}},__jsx(_input__WEBPACK_IMPORTED_MODULE_3__.A,{"data-testid":"quantity-widget-input",unStyled:!0,className:"text-center text-14","aria-label":translate("common.quantity"),value:rawValue,onChange:handleRawValueChange,onBlur:handleRawValueSubmit,disabled})),__jsx("button",{disabled:value>=maxValue||disabled,className:(0,_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__.p)(boxClassName,buttonClassName,"border-l"),onClick:handleIncrement},"+")))},__WEBPACK_DEFAULT_EXPORT__=QuantityWidget;QuantityWidget.__docgenInfo={description:"",methods:[],displayName:"QuantityWidget",props:{showLabel:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},value:{required:!1,tsType:{name:"number"},description:""},defaultValue:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},minValue:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},maxValue:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"Number.MAX_VALUE",computed:!0}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(val: number) => void",signature:{arguments:[{type:{name:"number"},name:"val"}],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/components/atoms/stock-indicator/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@heroicons/react/24/outline/esm/CheckCircleIcon.js"),_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/providers/I18n/hooks/useTranslation/index.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const StockIndicator=({inStock,restockableInDays})=>{const{translate}=(0,_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_1__.A)(),formattedRestockable=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{if(void 0===restockableInDays||isNaN(restockableInDays))return;if(restockableInDays<=6){const days=Math.max(1,restockableInDays);return`${translate("common.available.in")} ${days} ${translate(1===days?"common.day":"common.days")}`}if(restockableInDays<=29){const weeks=Math.max(1,Math.ceil(restockableInDays/7));return`${translate("common.available.in")} ${weeks} ${translate(1===weeks?"common.week":"common.weeks")}`}const months=Math.max(1,Math.ceil(restockableInDays/30));return`${translate("common.available.in")} ${months} ${translate(1===months?"common.month":"common.months")}`}),[restockableInDays,translate]);return __jsx("div",{className:"flex items-center gap-2 whitespace-pre text-14 text-gray-700"},inStock?__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_2__.A,{className:"text-primary",width:20}),__jsx("span",null,translate("common.in.stock"))):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,formattedRestockable?__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_2__.A,{className:"text-yellow-500",width:20}),__jsx("span",null,formattedRestockable)):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_2__.A,{className:"text-red-500",width:20}),__jsx("span",null,translate("common.out.of.stock")))))},__WEBPACK_DEFAULT_EXPORT__=StockIndicator;StockIndicator.__docgenInfo={description:"",methods:[],displayName:"StockIndicator",props:{inStock:{required:!1,tsType:{name:"boolean"},description:""},restockableInDays:{required:!1,tsType:{name:"number"},description:""}}}},"./src/components/molecules/discounts-form/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js"),_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/providers/I18n/hooks/useTranslation/index.ts"),_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/classnames/classnames/index.ts"),_components_atoms_input__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/input/index.tsx"),_accordion__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/molecules/accordion/index.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const DiscountsForm=({className,discounts,onSubmit,customError})=>{const{translate}=(0,_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_1__.A)(),{0:code,1:setCode}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),{0:codeIsInvalid,1:setCodeIsInvalid}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),{0:processing,1:setProcessing}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),inputClassName=(0,_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__.p)(codeIsInvalid?"border-red-500 text-red-500 focus:border-red-500":"border-neutral-300"),discountsContainerClassName=(0,_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__.p)("mt-2 flex flex-wrap justify-items-start gap-3",0===discounts?.length?"pt-0":"pt-1"),containerClassName=(0,_utils_classnames_classnames__WEBPACK_IMPORTED_MODULE_4__.p)("border-t border-neutral-400 py-4 text-16",className);return __jsx("div",{className:containerClassName},__jsx(_accordion__WEBPACK_IMPORTED_MODULE_3__.A,{className:"border-0"},__jsx(_accordion__WEBPACK_IMPORTED_MODULE_3__.A.Button,{defaultSpacing:!1,className:"text-gray-600"},translate("cart.discount.apply")),__jsx(_accordion__WEBPACK_IMPORTED_MODULE_3__.A.Panel,{defaultSpacing:!1},__jsx("form",{className:"pt-6",onSubmit:e=>{e.preventDefault(),(async()=>{if(processing||!code)return;setProcessing(!0);const success=await(onSubmit?.(code));setCodeIsInvalid(!success),success&&setCode(""),setProcessing(!1)})()}},__jsx(_components_atoms_input__WEBPACK_IMPORTED_MODULE_2__.A,{"aria-label":translate("cart.discount.code"),className:inputClassName,value:code??"",placeholder:translate("cart.discount.enter"),onChange:e=>{setCode(e.target.value),setCodeIsInvalid(!1)},disabled:processing,icon:codeIsInvalid?__jsx(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_5__.A,{className:"size-[20px] cursor-pointer",onClick:()=>{setCode(""),setCodeIsInvalid(!1)},"data-testid":"clear-input"}):null,error:codeIsInvalid?customError||translate("cart.codeNotValid"):void 0})),discounts&&!!discounts.length&&__jsx("div",{className:discountsContainerClassName},discounts.map((discount=>__jsx("div",{key:discount.code,className:"mr-1 flex w-fit justify-between gap-2 rounded-sm border border-neutral-400 bg-white px-2 py-1"},__jsx("label",{className:"text-12 uppercase leading-[16px] text-secondary"},discount.code),__jsx("button",{type:"button",className:"shrink-0",onClick:discount.onRemove},__jsx(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_5__.A,{"data-testid":"remove-discount-code",className:"size-4 text-secondary"})))))))))},__WEBPACK_DEFAULT_EXPORT__=DiscountsForm;DiscountsForm.__docgenInfo={description:"",methods:[],displayName:"DiscountsForm",props:{className:{required:!1,tsType:{name:"string"},description:""},discounts:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:"Discount & { onRemove?: () => Promise<boolean> }",elements:[{name:"Discount"},{name:"signature",type:"object",raw:"{ onRemove?: () => Promise<boolean> }",signature:{properties:[{key:"onRemove",value:{name:"signature",type:"function",raw:"() => Promise<boolean>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"boolean"}],raw:"Promise<boolean>"}},required:!1}}]}}]}],raw:"Array<Discount & { onRemove?: () => Promise<boolean> }>"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(code: string) => Promise<boolean>",signature:{arguments:[{type:{name:"string"},name:"code"}],return:{name:"Promise",elements:[{name:"boolean"}],raw:"Promise<boolean>"}}},description:""},customError:{required:!1,tsType:{name:"string"},description:""}}}},"./src/components/molecules/info-banner/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>info_banner});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),classnames=__webpack_require__("./src/utils/classnames/classnames/index.ts"),cva=__webpack_require__("./src/utils/classnames/cva/index.ts");const hooks_useClassNames=({variant})=>{const resolveBannerVariant=(0,cva.F)({intent:{primary:"bg-blue-100",warning:"bg-yellow-100"}}),resolveSidebarVariant=(0,cva.F)({intent:{primary:"bg-blue-500",warning:"bg-yellow-500"}});return{bannerClassName:(0,classnames.p)("flex items-stretch gap-3 overflow-hidden rounded-md md:gap-4 lg:gap-5",resolveBannerVariant(`intent.${variant}`)),sidebarClassName:(0,classnames.p)("block w-[8px] shrink-0",resolveSidebarVariant(`intent.${variant}`))}};var __jsx=react.createElement;const InfoBanner=({children,className,variant="primary"})=>{const{bannerClassName,sidebarClassName}=hooks_useClassNames({variant});return __jsx("div",{className:(0,classnames.p)(bannerClassName,className)},__jsx("span",{className:sidebarClassName}),__jsx("div",{className:"py-3 pr-3 text-14 text-gray-700 md:pr-4 lg:pr-5"},children))},info_banner=InfoBanner;InfoBanner.__docgenInfo={description:"",methods:[],displayName:"InfoBanner",props:{variant:{required:!1,tsType:{name:"union",raw:"'primary' | 'warning'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'warning'"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}}},"./src/components/molecules/move-to-list/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _Users_khizar_dev_frontastic_saas_project_libraries_b2b_packages_poc_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_components_atoms_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/atoms/button/index.tsx"),_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/providers/I18n/hooks/useTranslation/index.ts"),_hooks_useDisclosure__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/useDisclosure/index.ts"),_wishlist_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/molecules/wishlist-modal/index.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const MoveToList=({lists,onSubmit,onAddNewList,disabled})=>{const{isOpen,onOpen,onClose}=(0,_hooks_useDisclosure__WEBPACK_IMPORTED_MODULE_4__.A)(),{0:loading,1:setLoading}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),{translate}=(0,_providers_I18n_hooks_useTranslation__WEBPACK_IMPORTED_MODULE_3__.A)(),{0:checkedBoxes,1:setCheckedBoxes}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),selectedIds=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>Object.keys(checkedBoxes).filter((key=>!!checkedBoxes[key]))),[checkedBoxes]),handleSubmit=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((async lists=>{setLoading(!0),await(onSubmit?.(lists.filter((list=>selectedIds.includes(list.id))).map((list=>list.id)))),onClose(),setLoading(!1)}),[onSubmit,onClose,selectedIds]);return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(_components_atoms_button__WEBPACK_IMPORTED_MODULE_2__.A,{size:"fit",variant:"ghost",className:"flex-1 text-center text-14 font-medium text-gray-700 md:flex-[unset] md:text-start",onClick:onOpen,disabled},translate("wishlist.move.to.list")),__jsx(_wishlist_modal__WEBPACK_IMPORTED_MODULE_5__.A,{lists,isOpen,onClose,handleChange:(id,checked)=>{const updated=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_Users_khizar_dev_frontastic_saas_project_libraries_b2b_packages_poc_frontend_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},checkedBoxes);updated[id]=checked,setCheckedBoxes(updated)},selectedIds,onSubmit:handleSubmit,loading,onAddToNewList:onAddNewList}))},__WEBPACK_DEFAULT_EXPORT__=MoveToList;MoveToList.__docgenInfo={description:"",methods:[],displayName:"MoveToList",props:{lists:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ label: string; id: string }",signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"{ label: string; id: string }[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(selected: string[]) => Promise<void>",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"selected"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onAddNewList:{required:!1,tsType:{name:"signature",type:"function",raw:"(list: Pick<PurchaseList, 'name' | 'description' | 'store'>) => Promise<Wishlist | null>",signature:{arguments:[{type:{name:"Pick",elements:[{name:"PurchaseList"},{name:"union",raw:"'name' | 'description' | 'store'",elements:[{name:"literal",value:"'name'"},{name:"literal",value:"'description'"},{name:"literal",value:"'store'"}]}],raw:"Pick<PurchaseList, 'name' | 'description' | 'store'>"},name:"list"}],return:{name:"Promise",elements:[{name:"union",raw:"Wishlist | null",elements:[{name:"Wishlist"},{name:"null"}]}],raw:"Promise<Wishlist | null>"}}},description:""}}}},"./src/hooks/useControllableState/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=(propValue,initialValue)=>{const{0:state,1:setState}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(propValue??initialValue);return[propValue??state,setState]}},"./src/hooks/useDisclosure/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=({openDelay,closeDelay,defaultIsOpen=!1}={})=>{const{0:isOpen,1:setIsOpen}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultIsOpen),onOpen=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{openDelay?setTimeout((()=>setIsOpen(!0)),openDelay):setIsOpen(!0)}),[openDelay]),onClose=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{closeDelay?setTimeout((()=>setIsOpen(!1)),closeDelay):setIsOpen(!1)}),[closeDelay]),onToggle=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{isOpen?onClose():onOpen()}),[onOpen,onClose,isOpen]);return{isOpen,onOpen,onClose,onToggle}}},"./src/providers/I18n/hooks/useTranslation/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_navigation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./__mocks__/next/navigation/index.ts"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/providers/I18n/index.tsx");const __WEBPACK_DEFAULT_EXPORT__=()=>{const{translations}=(0,___WEBPACK_IMPORTED_MODULE_1__.s9)(),{locale}=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.g)();return{translate:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((token,{values={},defaultMessage=""}={})=>{const fallbackMessage=defaultMessage||token||"";if(!translations)return fallbackMessage;const firstDotIndex=token.indexOf(".");if(-1===firstDotIndex)return fallbackMessage;const[namespace,key]=[token.substring(0,firstDotIndex),token.substring(firstDotIndex+1)];let message=translations[locale]?.[namespace]?.[key]??fallbackMessage;for(const placeholder of Object.keys(values))message=message.replace(new RegExp(`{${placeholder}}`,"g"),values[placeholder]);return message}),[translations,locale])}}}}]);