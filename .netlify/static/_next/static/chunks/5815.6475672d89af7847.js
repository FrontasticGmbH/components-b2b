"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5815],{57076:(r,e,a)=>{a.d(e,{A:()=>n});var d=a(12115),t=a(13596),o=a(1862),l=a(69402);let n=r=>{var e,a,n;let{cursor:s,limit:u,states:i,ids:c,businessUnitKey:v,createdFrom:m,createdTo:y,sortAttributes:b}=r,{mutate:p}=(0,o.iX)(),k=(0,l.Ay)(v?["/action/cart/queryOrders",u,s,c,i,m,y,v,b]:null,()=>t.x.composableCommerce.cart.queryOrders({...u?{limit:u}:{},...s?{cursor:s}:{},...c?{orderNumbers:c}:{},...i?{orderStates:i}:{},...m?{createdFrom:m}:{},...y?{createdTo:y}:{},...v?{businessUnitKey:v}:{},...b?{sortAttributes:b}:""}),{revalidateIfStale:!0}),f=!v||k.isLoading,A=(0,d.useCallback)(()=>{p(r=>"object"==typeof r&&(null==r?void 0:r[0])==="/action/cart/queryOrders")},[p]);return{orders:(null===(e=k.data)||void 0===e?void 0:e.isError)?{}:null!==(n=null===(a=k.data)||void 0===a?void 0:a.data)&&void 0!==n?n:{},isLoading:f,cancelOrder:(0,d.useCallback)(async r=>{if(!r.orderNumber||!v)return{};let e=await t.x.composableCommerce.cart.cancelOrder({orderId:r.orderNumber},{businessUnitKey:v});return A(),e.isError?{}:e.data},[v,A]),replicateOrder:(0,d.useCallback)(async r=>{let e=await t.x.composableCommerce.cart.replicateOrder({orderId:r},{businessUnitKey:v});return A(),e.isError?{}:e.data},[v,A])}}},65815:(r,e,a)=>{a.r(e),a.d(e,{default:()=>y});var d=a(95155);a(12115);var t=a(11802),o=a(55195),l=a(13578),n=a(60798),s=a(66358),u=a(57076),i=a(66775),c=a(38917),v=a(37892),m=a(47240);let y=r=>{var e,a;let{data:y}=r,b=(0,i.A)(),{businessUnits:p}=(0,m.A)(),{selectedBusinessUnit:k}=(0,v.rW)(),{account:f}=(0,n.A)(),{permissions:A}=(0,c.A)(null==k?void 0:k.key),O=null===(a=y.data)||void 0===a?void 0:null===(e=a.dataSource)||void 0===e?void 0:e.order,{cancelOrder:h,replicateOrder:C}=(0,u.A)({businessUnitKey:null==k?void 0:k.key});return O?(0,d.jsx)(t.A,{href:o.s.orders,userName:null==f?void 0:f.firstName,children:(0,d.jsx)(l.A,{order:(0,s.x)(O,{businessUnits:p}),viewOnly:!A.UpdateMyOrders,onReturn:async()=>{let r=await h(O);return b.refresh(),!!r.orderId},onReorder:async()=>{let r=await C(O.orderId);return r.orderId&&b.push("/thank-you?orderId=".concat(r.orderId)),!!r.orderId}})}):(0,d.jsx)(d.Fragment,{})}}}]);
//# sourceMappingURL=5815.6475672d89af7847.js.map