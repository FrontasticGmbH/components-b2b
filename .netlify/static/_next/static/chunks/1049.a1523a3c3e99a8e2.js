"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1049],{85194:(e,l,s)=>{s.d(l,{A:()=>m});var a=s(95155),i=s(12115),n=s(47234),r=s(15033),t=s(33703);let d=e=>{let{disabled:l,readOnly:s,valid:a,error:i}=e;return l?"disabled":s?"readOnly":a?"valid":i?"error":"default"};var o=s(40036);let c=(e,l)=>{let{fitContent:s}=l,a=(0,o.F)({default:"border-gray-300 bg-white text-gray-600 focus:border-neutral-800 active:border-neutral-800",disabled:"cursor-not-allowed border-neutral-200 bg-neutral-200 text-neutral-800 focus:border-neutral-200",readOnly:"cursor-default border-neutral-200 bg-neutral-200 text-gray-600 focus:border-neutral-200 active:border-neutral-800",error:"border-red-500 bg-white text-gray-600 focus:border-red-500 active:border-red-500",valid:"border-green-500 bg-white text-gray-600 focus:border-green-500 active:border-green-500"});return{textAreaClassName:(0,n.p)("flex w-full resize-none rounded-sm border px-3 py-[10px] text-14 focus:outline-none focus:ring-0",a(e),{"overflow-hidden":s})}};var u=s(88989);let m=e=>{let{value:l,defaultValue:s,onChange:o,label:m="",disabled:h=!1,readOnly:v=!1,valid:x=!1,error:p="",required:b=!1,showOptionalLabel:j=!1,requiredStyle:A="asterisk",className:f="",fitContent:g=!1,...w}=e,[y,C]=(0,r.A)(l,s),N=(0,i.useRef)(null),{textAreaClassName:k}=c(d({disabled:h,readOnly:v,valid:x,error:p}),{fitContent:g}),L=(0,i.useCallback)(()=>{g&&N.current&&(N.current.style.height="".concat(N.current.scrollHeight,"px"))},[g]),{ref:E}=(0,t.A)(L),H=(0,i.useCallback)(e=>{L(),C(e.target.value),null==o||o(e)},[o,C,L]);return(0,a.jsxs)("div",{children:[(0,a.jsx)(u.A,{required:b,showOptionalLabel:j,requiredStyle:A,children:m}),(0,a.jsx)("textarea",{ref:e=>{N.current=e,E.current=e},className:(0,n.p)(k,f),value:y,readOnly:v,disabled:h,required:b,onChange:H,...w}),p&&(0,a.jsx)("span",{className:"mt-3 block text-12 font-medium text-red-500",children:p})]})}},52471:(e,l,s)=>{s.d(l,{A:()=>u});var a=s(95155),i=s(12115),n=s(76046),r=s(90942),t=s(60410),d=s(70533),o=s(85194),c=s(32391);let u=e=>{var l,s;let{id:u,onAddPurchaseList:m,onUpdatePurchaseList:h,purchaseLists:v,classNames:x,onCancel:p,onSave:b}=e,{translate:j}=(0,t.A)(),A=(0,n.useRouter)(),f=(0,n.useSearchParams)(),{showSavedMessage:g,showFailedMessage:w}=(0,c.A)("purchaselist"),y=null!=u?u:f.get("id"),C=null!==(l=v.find(e=>e.id===y))&&void 0!==l?l:{},[N,k]=(0,i.useState)(C),L=(0,i.useCallback)(e=>{k({...N,[e.target.name]:e.target.value})},[N]),E=(0,i.useCallback)(async()=>{await (y?null==h?void 0:h(N):null==m?void 0:m(N))?g():w(),(null!=b?b:A.back)()},[h,m,N,y,A,b,g,w]);return(0,a.jsx)(r.A,{translations:{cancel:j("common.cancel"),submit:j("common.save")},onSubmit:E,onCancel:null!=p?p:A.back,classNames:x,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(d.A,{name:"name",label:j("common.name"),required:!0,value:null!==(s=N.name)&&void 0!==s?s:"",onChange:L,containerClassName:"md:w-[350px] lg:w-[400px]"}),(0,a.jsx)(o.A,{name:"description",label:j("common.description"),showOptionalLabel:!0,value:N.description,onChange:L,className:"h-[160px] md:w-[350px] lg:w-[400px]"})]})})}},21761:(e,l,s)=>{s.d(l,{A:()=>o});var a=s(12115),i=s(13596),n=s(1862),r=s(69402),t=s(66775),d=s(60798);let o=e=>{var l,s,o,c,u;let m=(0,t.A)(),{mutate:h}=(0,n.iX)(),v=(0,d.A)(),x=(0,r.Ay)(e&&(null===(l=v.account)||void 0===l?void 0:l.accountId)?["/action/wishlist/",e]:null,()=>{var l,s;return i.x.composableCommerce.wishlist.queryWishlists({accountId:null!==(s=null===(l=v.account)||void 0===l?void 0:l.accountId)&&void 0!==s?s:"",storeKey:null!=e?e:"",limit:500})}),{mutate:p}=x,b=!(e&&(null===(s=v.account)||void 0===s?void 0:s.accountId))||x.isLoading,j=(0,a.useCallback)(()=>{h(e=>"object"==typeof e&&(null==e?void 0:e[0])==="/action/wishlist/")},[h]),A=(0,a.useCallback)(async e=>{var l;let{name:s,description:a,store:n}=e,r=await i.x.composableCommerce.wishlist.createWishlist({name:s,description:a},{storeKey:null!==(l=null==n?void 0:n.key)&&void 0!==l?l:""});return p(),r.isError?null:r.data},[p]),f=(0,a.useCallback)(async e=>{let{wishlistId:l,name:s,description:a}=e,n=await i.x.composableCommerce.wishlist.updateWishlist({name:s,description:a},{id:l});return p(),h(["/action/wishlist/getWishlist",l]),m.refresh(),n.isError?null:n.data},[p,h,m]),g=(0,a.useCallback)(async e=>{var l;let{wishlistId:s,store:a}=e,n=await i.x.callAction({actionName:"wishlist/deleteWishlist?id=".concat(s,"&storeKey=").concat(null!==(l=null==a?void 0:a.key)&&void 0!==l?l:"")});return p(),n.isError?null:n.data},[p]),w=(0,a.useCallback)(async e=>{let{wishlistIds:l,sku:s,count:a}=e,n=await i.x.callAction({actionName:"wishlist/addToWishlists",payload:{wishlistIds:l,variant:{sku:s},count:a}});return(p(),l.forEach(e=>h(["/action/wishlist/getWishlist",e])),m.refresh(),n.isError)?{}:{data:null==n?void 0:n.data}},[p,h,m]),y=(0,a.useCallback)(async e=>{let l=await i.x.callAction({actionName:"wishlist/removeLineItems",payload:{wishlists:e}});return(p(),e.forEach(e=>{let{wishlistId:l}=e;return h(["/action/wishlist/getWishlist",l])}),m.refresh(),l.isError)?{}:{data:null==l?void 0:l.data}},[p,h,m]);return{purchaseLists:(null===(o=x.data)||void 0===o?void 0:o.isError)?null:null!==(u=null===(c=x.data)||void 0===c?void 0:c.data)&&void 0!==u?u:null,isLoading:b,mutateAll:j,createPurchaseList:A,updatePurchaseList:f,deletePurchaseList:g,addToWishlists:w,removeFromWishlists:y}}},61049:(e,l,s)=>{s.r(l),s.d(l,{default:()=>g});var a=s(95155),i=s(12115),n=s(11802),r=s(55195),t=s(60410),d=s(66529),o=s(66382),c=s(1547),u=s(41287),m=s(71577);let h=e=>{let{purchaseLists:l,loading:s}=e,{translate:i}=(0,t.A)();return(0,a.jsx)(u.A,{translations:{button:i("dashboard.purchase.list.add")},buttonLink:"?subPath=add-purchase-list",isEmpty:!(null==l?void 0:l.length),isLoading:s,entity:i("common.purchase.lists"),children:(0,a.jsxs)(d.A,{children:[(0,a.jsxs)(d.A.Container,{className:"hidden md:table",children:[(0,a.jsx)(d.A.Head,{children:(0,a.jsxs)(d.A.Row,{children:[(0,a.jsx)(d.A.Cell,{isHeadCell:!0,children:i("common.list.name")}),(0,a.jsx)(d.A.Cell,{isHeadCell:!0,children:i("common.store")}),(0,a.jsx)(d.A.Cell,{isHeadCell:!0,children:i("common.description")}),(0,a.jsx)(d.A.Cell,{isHeadCell:!0,className:"text-right",children:i("common.items")}),(0,a.jsx)(d.A.Cell,{isButtonsHead:!0})]})}),(0,a.jsx)(d.A.Body,{children:null==l?void 0:l.map(e=>{var l;let{id:s,name:n,store:t,description:u,items:m}=e;return(0,a.jsxs)(d.A.Row,{children:[(0,a.jsx)(d.A.Cell,{children:n}),(0,a.jsx)(d.A.Cell,{children:null!==(l=null==t?void 0:t.name)&&void 0!==l?l:"-"}),(0,a.jsx)(d.A.Cell,{children:(0,a.jsxs)("p",{className:"w-48 truncate lg:w-80",children:[" ",u]})}),(0,a.jsx)(d.A.Cell,{children:(0,a.jsx)("p",{className:"text-right",children:m.length})}),(0,a.jsx)(d.A.Cell,{isButtonsCell:!0,children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(c.default,{href:r.s.shoppingListDetail(s),underlineOnHover:!1,children:(0,a.jsx)(o.default,{variant:"secondary",children:i("common.view")})})})})]},s)})})]}),(0,a.jsxs)(d.A.Container,{className:"table md:hidden",children:[(0,a.jsx)(d.A.Head,{children:(0,a.jsx)(d.A.Row,{children:(0,a.jsx)(d.A.Cell,{isHeadCell:!0,children:i("common.list.name")})})}),(0,a.jsx)(d.A.Body,{children:null==l?void 0:l.map(e=>{var l;let{id:s,name:n,store:t,description:u,items:h}=e;return(0,a.jsx)(d.A.Row,{children:(0,a.jsx)(d.A.Cell,{children:(0,a.jsxs)(m.A,{className:"border-none text-gray-600",children:[(0,a.jsxs)(m.A.Button,{defaultSpacing:!1,children:[(0,a.jsx)("p",{className:"font-semibold",children:n}),(0,a.jsxs)("div",{className:"mt-2 flex",children:[(0,a.jsxs)("p",{className:"basis-28 font-semibold",children:[i("common.items"),": "]}),(0,a.jsx)("p",{className:"text-gray-500",children:h.length})]})]}),(0,a.jsxs)(m.A.Panel,{defaultSpacing:!1,children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("p",{className:"basis-28 font-semibold",children:[i("common.store"),": "]}),(0,a.jsxs)("p",{className:"text-gray-500",children:[" ",null!==(l=null==t?void 0:t.name)&&void 0!==l?l:"-"]})]}),u&&(0,a.jsxs)("div",{className:"mt-3 flex flex-col",children:[(0,a.jsxs)("p",{className:"font-semibold",children:[i("common.description"),": "]}),(0,a.jsxs)("p",{className:"max-w-sm text-wrap text-gray-500",children:[" ",u]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(c.default,{href:r.s.shoppingListDetail(s),underlineOnHover:!1,children:(0,a.jsx)(o.default,{variant:"secondary",children:i("common.view")})})})]})]})})},s)})})]})]})})};var v=s(21761),x=s(49880),p=s(60798),b=s(37892),j=s(76046),A=s(52471);let f=e=>{let l=(0,j.useSearchParams)().get("subPath"),s=(0,i.useMemo)(()=>{let s={"add-purchase-list":{title:"dashboard.purchase.list.add",Component:(0,a.jsx)(A.A,{...e})}};if(l&&Object.keys(s).includes(l))return s[l]},[l,e]);return{subPath:l,ActiveSubPath:s}},g=()=>{var e,l;let{account:s}=(0,p.A)(),{selectedStore:i}=(0,b.rW)(),{purchaseLists:t,isLoading:d,createPurchaseList:o}=(0,v.A)(null==i?void 0:i.key),c={purchaseLists:null==t?void 0:t.items.map(x.Q),loading:d,onAddPurchaseList:async e=>{if(!i)return;let l=await o({...e,store:i});return!!(null==l?void 0:l.wishlistId)}},{ActiveSubPath:u}=f(c);return(0,a.jsx)(n.A,{title:null!==(e=null==u?void 0:u.title)&&void 0!==e?e:"common.purchase.lists",href:r.s.shoppingLists,userName:null==s?void 0:s.firstName,children:null!==(l=null==u?void 0:u.Component)&&void 0!==l?l:(0,a.jsx)(h,{...c})})}},49880:(e,l,s)=>{s.d(l,{Q:()=>n});var a=s(21935);let i=e=>{var l,s,a,i,n,r,t,d;let{lineItemId:o,name:c,count:u,variant:m,_url:h}=e;return{id:o,sku:null!==(n=null==m?void 0:m.sku)&&void 0!==n?n:"",url:null!=h?h:"#",name:null!=c?c:"",quantity:null!=u?u:1,image:null==m?void 0:null===(l=m.images)||void 0===l?void 0:l[0],price:(null!==(r=null==m?void 0:null===(s=m.price)||void 0===s?void 0:s.centAmount)&&void 0!==r?r:0)/Math.pow(10,null!==(t=null==m?void 0:null===(a=m.price)||void 0===a?void 0:a.fractionDigits)&&void 0!==t?t:2),currency:null!==(d=null==m?void 0:null===(i=m.price)||void 0===i?void 0:i.currencyCode)&&void 0!==d?d:"AUD",inStock:!!(null==m?void 0:m.isOnStock)}},n=e=>{let{wishlistId:l,name:s,description:n,lineItems:r,store:t}=e;return{id:l,name:null!=s?s:"",store:t?(0,a.u)(t):void 0,description:null!=n?n:"",items:(null!=r?r:[]).map(i)}}}}]);
//# sourceMappingURL=1049.a1523a3c3e99a8e2.js.map