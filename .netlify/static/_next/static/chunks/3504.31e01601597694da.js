"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3504],{39164:(e,s,n)=>{n.d(s,{A:()=>f});var a=n(95155),l=n(12115),t=n(60410),i=n(47234),r=n(15033),d=n(77296);let o=l.createContext({}),c=e=>{let{children:s,value:{size:n,disabled:t,onChange:i,value:c,className:u,defaultValue:m}}=e,{isOpen:h,onOpen:x,onClose:b,onToggle:v}=(0,d.A)(),[j,A]=(0,r.A)(c,[]),p=(0,l.useCallback)(e=>{null==i||i(e),A(e),b()},[i,A,b]);return(0,a.jsx)(o.Provider,{value:{size:n,disabled:t,handleChange:p,value:j,className:u,defaultValue:m,isExpanded:h,onExpand:x,onCollapse:b,onToggle:v},children:s})},u=()=>(0,l.useContext)(o);var m=n(1257),h=n(39275);let x=e=>{let{children:s}=e,{handleChange:n,className:l,value:t,disabled:r,defaultValue:d,onCollapse:o}=u(),{ref:c}=(0,h.A)(o);return(0,a.jsx)("div",{ref:c,className:(0,i.p)("relative",l),children:(0,a.jsx)(m.W,{value:null!=t?t:[],defaultValue:d,onChange:n,disabled:r,multiple:!0,children:s})})};var b=n(32112),v=n(40036);let j=e=>{let{disabled:s,size:n}=e,a=(0,v.F)({intent:{active:"cursor-default border-gray-300 bg-white text-gray-700 focus:shadow-200 active:border-neutral-800",disabled:"cursor-not-allowed border-neutral-200 bg-neutral-200 text-neutral-800"},size:{sm:"h-[32px]",lg:"h-[40px]"}});return{buttonClassName:(0,i.p)("relative w-full rounded-md border pl-3 pr-10 text-left text-14 focus:outline-none",a("intent.".concat(s?"disabled":"active")),a("size.".concat(n)))}};var A=n(3757),p=n(26505);let y=e=>{let{children:s,value:n,defaultValue:l,onChange:t,disabled:i,className:r,size:d="lg"}=e;return(0,a.jsx)(c,{value:{onChange:t,value:n,defaultValue:l,disabled:i,className:r,size:d},children:(0,a.jsx)(x,{children:s})})};y.Button=e=>{var s,n;let{children:l,className:r}=e,{translate:d}=(0,t.A)(),{disabled:o,size:c,value:h,defaultValue:x,onToggle:v,isExpanded:A}=u(),{buttonClassName:p}=j({disabled:o,size:c});return(0,a.jsxs)(m.W.Button,{"aria-label":d("common.select"),className:(0,i.p)(r,p),onClick:v,children:[(0,a.jsx)("div",{className:"block truncate",children:"function"==typeof l?l({selected:null!==(n=null===(s=h&&0!==h.length?h:x)||void 0===s?void 0:s.map(e=>({value:e})))&&void 0!==n?n:[],isExpanded:A}):l}),(0,a.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:(0,a.jsx)(b.A,{className:"h-[18px]","aria-hidden":"true"})})]})},y.Options=e=>{let{children:s,className:n}=e,{isExpanded:t}=u();return(0,a.jsx)(A.e,{show:t,as:l.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(m.W.Options,{static:!0,className:(0,i.p)("absolute z-50 mt-1 max-h-60 w-full min-w-fit overflow-y-auto rounded-md bg-white py-1 text-base shadow-400 focus:outline-none",n),children:s})})},y.Option=e=>{let{children:s,value:n}=e,{value:l,defaultValue:t}=u(),r=!!(n&&((null==l?void 0:l.includes(n))||(null==t?void 0:t.includes(n))));return(0,a.jsx)(m.W.Option,{className:(0,i.p)("relative cursor-default select-none"),value:n,children:(0,a.jsxs)("div",{className:(0,i.p)("flex items-center justify-between gap-5 truncate px-3 py-[10px] text-14 text-gray-700 hover:bg-neutral-200 lg:py-1",{"bg-neutral-200":r}),children:[s,(0,a.jsx)(p.A,{checked:r})]})},n)};var C=n(88989),g=n(70533);let f=e=>{let{label:s,required:n,requiredStyle:r="asterisk",showOptionalLabel:d=!1,options:o=[],placeholder:c="",enableSearch:u=!1,menuTop:m,...h}=e,{translate:x}=(0,t.A)(),[b,v]=(0,l.useState)(""),j=(0,l.useMemo)(()=>u&&b?o.filter(e=>{let{name:s}=e;return s.toLowerCase().includes(b.toLowerCase())}):o,[o,b,u]);return(0,a.jsxs)(y,{...h,children:[(0,a.jsx)(C.A,{required:n,requiredStyle:r,showOptionalLabel:d,children:s}),(0,a.jsx)(y.Button,{children:e=>{let{selected:s,isExpanded:n}=e;return u&&n?(0,a.jsx)(g.A,{unStyled:!0,focusOnMount:!0,onClick:e=>e.stopPropagation(),onKeyDown:e=>" "===e.key&&e.stopPropagation(),value:b,onChange:e=>v(e.target.value)}):(null==s?void 0:s.map(e=>{var s;return null===(s=o.find(s=>s.value===e.value))||void 0===s?void 0:s.name}).join(", "))||c}}),(0,a.jsxs)(y.Options,{className:(0,i.p)({"bottom-12 shadow-500-reverse":m}),children:[u&&0===j.length&&(0,a.jsx)("p",{className:"px-3 py-2 text-14 text-gray-500",children:x("common.no.results.found")}),j.map(e=>{let{name:s,value:n}=e;return(0,a.jsx)(y.Option,{value:n,children:s},n)})]})]})}},81585:(e,s,n)=>{n.d(s,{A:()=>c});var a=n(95155),l=n(12115);let t=l.createContext({activeTabIndex:0}),i=e=>{let{children:s,defaultActiveIndex:n,onActiveIndexChange:i}=e,[r,d]=(0,l.useState)(null!=n?n:0);return(0,a.jsx)(t.Provider,{value:{activeTabIndex:r,setActiveTabIndex:d,onActiveIndexChange:i},children:s})},r=()=>(0,l.useContext)(t);var d=n(47234);let o=e=>{let{children:s,...n}=e;return(0,a.jsx)(i,{...n,children:s})};o.TabList=e=>{let{children:s}=e,{activeTabIndex:n,setActiveTabIndex:t,onActiveIndexChange:i}=r();return(0,a.jsx)("div",{className:"flex items-center gap-5 overflow-visible border-b-2 border-neutral-400 lg:gap-10",children:l.Children.map(s,(e,s)=>{let l=(0,d.p)("mb-[-2px] cursor-pointer whitespace-pre border-b-2 py-2 leading-[16px] transition hover:border-gray-800",{"border-transparent":s!==n,"border-gray-800 font-bold":s===n});return(0,a.jsx)("div",{className:l,onClick:()=>{t(s),null==i||i(s)},children:e})})})},o.Tab=e=>{let{children:s}=e;return(0,a.jsx)(a.Fragment,{children:s})},o.Panels=e=>{let{children:s,className:n}=e,{activeTabIndex:t}=r();return(0,a.jsx)("div",{className:(0,d.p)("overflow-auto pt-4 lg:pt-6",n),children:l.Children.toArray(s)[Math.min(l.Children.count(s)-1,Math.max(0,t))]})},o.Panel=e=>{let{children:s}=e;return(0,a.jsx)(a.Fragment,{children:s})};let c=o},17180:(e,s,n)=>{n.d(s,{A:()=>i});var a=n(12115),l=n(13596),t=n(69402);let i=()=>{var e,s,n;let i=(0,a.useCallback)(()=>l.x.composableCommerce.businessUnit.getAssociateRoles(),[]),r=(0,t.Ay)("/action/buinsess-unit/getAssociateRoles",i);return{...r,data:(null===(e=r.data)||void 0===e?void 0:e.isError)?[]:null!==(n=null===(s=r.data)||void 0===s?void 0:s.data)&&void 0!==n?n:[]}}},3504:(e,s,n)=>{n.r(s),n.d(s,{default:()=>_});var a=n(95155),l=n(12115),t=n(76046),i=n(2355),r=n(60410),d=n(81585),o=n(91938),c=n(66529),u=n(3762),m=n(1547);let h=e=>{let{generalInformation:s=[],businessUnitsAreViewOnly:n}=e,{translate:l}=(0,r.A)();return(0,a.jsx)(c.A,{children:(0,a.jsxs)(c.A.Container,{children:[(0,a.jsxs)(c.A.Head,{children:[(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:l("common.name")}),(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:l("common.email")}),(0,a.jsx)(c.A.Cell,{})]}),(0,a.jsx)(c.A.Body,{children:s.map(e=>{let{id:s,name:t,email:i}=e;return(0,a.jsxs)(c.A.Row,{children:[(0,a.jsx)(c.A.Cell,{children:t}),(0,a.jsx)(c.A.Cell,{children:i}),(0,a.jsx)(c.A.Cell,{children:!n&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(m.default,{"aria-label":l("common.edit"),href:"?subPath=edit-general-info&id=".concat(s),children:(0,a.jsx)(u.A,{className:"cursor-pointer text-primary",width:20})})})})]},s)})})]})})};var x=n(87405),b=n(41287),v=n(21096),j=n(19387),A=n(32391);let p=e=>{let{onDeleteAssociate:s,associatesAreViewOnly:n,associates:t=[]}=e,{translate:i}=(0,r.A)(),{showDeletedMessage:d,showDeletedFailedMessage:o}=(0,A.A)("associate"),h=1===t.length,x=(0,l.useCallback)(async e=>{await (null==s?void 0:s(e))?d():o()},[d,o,s]);return(0,a.jsx)(c.A,{children:(0,a.jsxs)(c.A.Container,{children:[(0,a.jsxs)(c.A.Head,{children:[(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:i("common.name")}),(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:i("common.email")}),(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:i("common.role")}),(0,a.jsx)(c.A.Cell,{})]}),(0,a.jsx)(c.A.Body,{children:t.map(e=>{let{id:s,firstName:l,lastName:t,email:r,roles:d}=e;return(0,a.jsxs)(c.A.Row,{children:[(0,a.jsx)(c.A.Cell,{children:l||t?"".concat(l," ").concat(t).trim():"-"}),(0,a.jsx)(c.A.Cell,{children:r}),(0,a.jsx)(c.A.Cell,{children:d.join(", ")}),(0,a.jsx)(c.A.Cell,{children:!n&&(0,a.jsxs)("div",{className:"flex items-center justify-end gap-5 text-primary",children:[(0,a.jsx)(j.A,{translations:{title:i("dashboard.associate.delete"),summary:i(h?"dashboard.associate.delete.disabled":"dashboard.associate.delete.confirm"),cancel:i(h?"common.close":"common.cancel"),confirm:i("common.delete")},disabled:h,onConfirm:async()=>x(s),children:(0,a.jsx)(v.A,{className:"cursor-pointer",width:20})}),(0,a.jsx)(m.default,{href:"?subPath=edit-associate&id=".concat(s),children:(0,a.jsx)(u.A,{className:"cursor-pointer",width:20})})]})})]},s)})})]})})},y=e=>{let{businessUnitsAreViewOnly:s,businessUnits:n=[]}=e,{translate:l}=(0,r.A)();return(0,a.jsx)(c.A,{children:(0,a.jsxs)(c.A.Container,{children:[(0,a.jsxs)(c.A.Head,{children:[(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:l("common.name")}),(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:l("common.key")}),(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:l("dashboard.toplevel.unit")}),(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:l("dashboard.parent.unit")}),(0,a.jsx)(c.A.Cell,{isHeadCell:!0,children:l("common.email")}),(0,a.jsx)(c.A.Cell,{})]}),(0,a.jsx)(c.A.Body,{children:n.map(e=>{let{id:n,name:l,key:t,email:i,topLevelUnit:r,parentUnit:d}=e;return(0,a.jsxs)(c.A.Row,{children:[(0,a.jsx)(c.A.Cell,{children:l}),(0,a.jsx)(c.A.Cell,{children:t}),(0,a.jsx)(c.A.Cell,{children:(null==r?void 0:r.name)||(null==r?void 0:r.key)||"-"}),(0,a.jsx)(c.A.Cell,{children:(null==d?void 0:d.name)||(null==d?void 0:d.key)||"-"}),(0,a.jsx)(c.A.Cell,{children:i}),(0,a.jsx)(c.A.Cell,{children:!s&&(0,a.jsx)("div",{className:"flex items-center justify-end gap-5 text-primary",children:(0,a.jsx)(m.default,{href:"?subPath=edit-business-unit&id=".concat(n),children:(0,a.jsx)(u.A,{className:"cursor-pointer",width:20})})})})]},n)})})]})})},C=e=>{let{businessUnitOptions:s,onBusinessUnitChange:n,initialBusinessUnit:c,generalInformation:u,addresses:m,associates:v,businessUnits:j,onDeleteAssociate:A,onDeleteAddress:C,canAddBusinessUnit:g,onSearchAddresses:f,onSearchAssociates:w,onSearchBusinessUnits:k,addressesAreViewOnly:N=!1,businessUnitsAreViewOnly:U=!1,associatesAreViewOnly:S=!1}=e,{translate:P}=(0,r.A)(),I=(0,t.useSearchParams)(),[O,B]=(0,l.useState)(I.get("tab")),H=(0,t.useRouter)();return(0,a.jsxs)("div",{className:"hidden lg:block",children:["1"===O&&N&&(0,a.jsxs)(o.A,{className:"mt-3",children:[(0,a.jsx)("b",{children:P("common.view.only")})," ",P("dashboard.addresses.view.only.desc")]}),"2"===O&&S&&(0,a.jsxs)(o.A,{className:"mt-3",children:[(0,a.jsx)("b",{children:P("common.view.only")})," ",P("dashboard.associates.view.only.desc")]}),("0"===O||"3"===O)&&U&&(0,a.jsxs)(o.A,{className:"mt-3",children:[(0,a.jsx)("b",{children:P("common.view.only")})," ",P("dashboard.business.units.view.only.desc")]}),(0,a.jsx)("h1",{className:"py-6 text-18 font-extrabold text-gray-800 md:py-7 md:text-20 lg:py-9 lg:text-24",children:P("common.company.admin")}),(0,a.jsx)("div",{className:"flex gap-3",children:(0,a.jsx)(i.A,{className:"w-[280px]",label:P("common.business.unit"),placeholder:P("common.select"),enableSearch:!0,options:s,defaultValue:c,onChange:n})}),(0,a.jsx)("div",{className:"mt-11",children:(0,a.jsxs)(d.A,{defaultActiveIndex:O?+O:0,onActiveIndexChange:e=>{B(e.toString()),H.replace("?tab=".concat(e))},children:[(0,a.jsxs)(d.A.TabList,{children:[(0,a.jsx)(d.A.Tab,{children:P("common.general")}),(0,a.jsx)(d.A.Tab,{children:P("common.addresses")}),(0,a.jsx)(d.A.Tab,{children:P("common.associates")}),(0,a.jsx)(d.A.Tab,{children:P("common.business.units")})]}),(0,a.jsxs)(d.A.Panels,{children:[(0,a.jsx)(d.A.Panel,{children:(0,a.jsx)(h,{generalInformation:u,businessUnitsAreViewOnly:U})}),(0,a.jsx)(d.A.Panel,{children:(0,a.jsx)(b.A,{translations:{button:P("dashboard.address.add")},buttonLink:"?subPath=add-address",buttonDisabled:N,onSearchChange:f,isEmpty:!m.length,entity:P("common.addresses").toLowerCase(),children:(0,a.jsx)(x.A,{addresses:m,onDeleteAddress:C,addressesAreViewOnly:N})})}),(0,a.jsx)(d.A.Panel,{children:(0,a.jsx)(b.A,{translations:{button:P("dashboard.associate.add")},buttonLink:"?subPath=add-associate",buttonDisabled:S,onSearchChange:w,isEmpty:!v.length,entity:P("common.associates").toLowerCase(),children:(0,a.jsx)(p,{associates:v,onDeleteAssociate:A,associatesAreViewOnly:S})})}),(0,a.jsx)(d.A.Panel,{children:(0,a.jsx)(b.A,{translations:{button:P("dashboard.business.unit.add")},buttonLink:"?subPath=add-business-unit",buttonDisabled:!g||U,onSearchChange:k,isEmpty:!j.length,entity:P("common.business.units").toLowerCase(),children:(0,a.jsx)(y,{businessUnits:j,businessUnitsAreViewOnly:U})})})]})]})})]})};var g=n(55195),f=n(11802),w=n(47240),k=n(60798),N=n(56518),U=n(78304),S=n(38917),P=n(66493),I=n(36957),O=n(37892);let B=e=>{let{addresses:s,associates:n,businessUnits:a}=e,[t,i]=(0,l.useState)({addresses:"",accountAddresses:"",associates:"",businessUnits:""}),r=(0,l.useCallback)(e=>s=>i({...t,[e]:s}),[t]),d=(e,s)=>{let{name:n,line1:a,line2:l,city:t,country:i,state:r}=e;return[n,a,l,t,i,r].some(e=>e&&e.includes(s))};return{searchedAddresses:s.filter(e=>d(e,t.addresses)),searchedAssociates:n.filter(e=>{let{firstName:s,lastName:n,email:a}=e;return[s,n,a].some(e=>e&&e.includes(t.associates))}),searchedBusinessUnits:a.filter(e=>{let{name:s,key:n,email:a}=e;return[s,n,a].some(e=>e&&e.includes(t.businessUnits))}),handleSearch:r}};var H=n(17180);let D=()=>{let{data:e}=(0,H.A)();return{roleOptions:e.map(e=>{var s;let{name:n,key:a}=e;return{name:null!==(s=null!=a?a:n)&&void 0!==s?s:"",value:null!=a?a:""}})}},L=e=>{var s;let{activeBusinessUnit:n}=e,a=null!==(s=null==n?void 0:n.stores)&&void 0!==s?s:[],l=a[0];return{stores:a,selectedStore:l}};var K=n(90942),R=n(70533);let T=e=>{var s,n,i;let{onUpdateGeneralInfo:d,generalInformation:o}=e,{translate:c}=(0,r.A)(),{showSavedMessage:u,showFailedMessage:m}=(0,A.A)("businessunit"),h=(0,t.useRouter)(),x=(0,t.useSearchParams)().get("id"),b=null!==(s=o.find(e=>e.id===x))&&void 0!==s?s:{},[v,j]=(0,l.useState)(b),p=(0,l.useCallback)(e=>{j({...v,[e.target.name]:e.target.value})},[v]),y=(0,l.useCallback)(async()=>{await (null==d?void 0:d(v))?u():m(),h.back()},[d,v,h,u,m]);return(0,a.jsx)(K.A,{translations:{cancel:c("common.cancel"),submit:c("common.save")},onSubmit:y,onCancel:h.back,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(R.A,{name:"name",label:c("common.name"),required:!0,value:null!==(n=v.name)&&void 0!==n?n:"",onChange:p,containerClassName:"max-w-[400px]"}),(0,a.jsx)(R.A,{name:"email",label:c("common.email"),required:!0,type:"email",value:null!==(i=v.email)&&void 0!==i?i:"",onChange:p,containerClassName:"max-w-[400px]"})]})})};var E=n(76835),q=n(39164);let F=e=>{var s,n;let{onUpdateAssociate:i,onAddAssociate:d,associates:o,roleOptions:c}=e,{translate:u}=(0,r.A)(),{showSavedMessage:m,showFailedMessage:h}=(0,A.A)("associate"),x=(0,t.useRouter)(),b=(0,t.useSearchParams)().get("id"),v=null!==(s=o.find(e=>e.id===b))&&void 0!==s?s:{},[j,p]=(0,l.useState)(v),y=(0,l.useCallback)(e=>{p({...j,[e.target.name]:e.target.value})},[j]),C=(0,l.useCallback)(e=>{p({...j,roles:e})},[j]),g=(0,l.useCallback)(async()=>{await (b?null==i?void 0:i(j):null==d?void 0:d(j))?m():h(),x.back()},[d,i,j,b,x,m,h]);return(0,a.jsx)(K.A,{translations:{cancel:u("common.cancel"),submit:u("common.save")},onSubmit:g,onCancel:x.back,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(R.A,{name:"email",label:u("common.email"),required:!0,value:null!==(n=j.email)&&void 0!==n?n:"",onChange:y,containerClassName:"max-w-[400px]"}),(0,a.jsx)("div",{className:"max-w-[400px]",children:(0,a.jsx)(q.A,{value:j.roles,options:c,onChange:C})})]})})};var V=n(51065);let M=e=>{var s,n,i;let{onUpdateBusinessUnit:d,onAddBusinessUnit:o,businessUnits:c,storeName:u}=e,{translate:m}=(0,r.A)(),{showSavedMessage:h,showFailedMessage:x}=(0,A.A)("businessunit"),b=(0,t.useRouter)(),v=(0,t.useSearchParams)().get("id"),j=null!==(s=c.find(e=>e.id===v))&&void 0!==s?s:{},[p,y]=(0,l.useState)(j),C=(0,l.useCallback)(e=>{y({...p,[e.target.name]:e.target.value})},[p]),g=(0,l.useCallback)(async()=>{await (v?null==d?void 0:d(p):null==o?void 0:o(p))?h():x(),b.back()},[o,d,p,v,b,h,x]);return(0,a.jsx)(K.A,{translations:{cancel:m("common.cancel"),submit:m("common.save")},onSubmit:g,onCancel:b.back,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[!v&&(0,a.jsxs)("p",{className:"pb-2 text-14 text-gray-700",children:[m("dashboard.add.business.unit.to")," ",(0,a.jsx)("span",{className:"font-semibold",children:u})]}),v&&(0,a.jsx)(V.A,{children:m("dashboard.entity.update.how.to.delete")}),(0,a.jsx)(R.A,{name:"name",label:m("common.name"),required:!0,value:null!==(n=p.name)&&void 0!==n?n:"",onChange:C,containerClassName:"max-w-[400px]"}),(0,a.jsx)(R.A,{name:"email",label:m("common.email"),required:!0,value:null!==(i=p.email)&&void 0!==i?i:"",onChange:C,containerClassName:"max-w-[400px]"})]})})},W=e=>{let{...s}=e,n=(0,t.useSearchParams)().get("subPath"),i=(0,l.useMemo)(()=>{let e={"edit-general-info":{title:"dashboard.general.info.edit",Component:(0,a.jsx)(T,{...s})},"add-address":{title:"dashboard.address.add",Component:(0,a.jsx)(E.A,{...s})},"edit-address":{title:"dashboard.address.edit",Component:(0,a.jsx)(E.A,{...s})},"add-associate":{title:"dashboard.associate.add",Component:(0,a.jsx)(F,{...s})},"edit-associate":{title:"dashboard.associate.edit",Component:(0,a.jsx)(F,{...s})},"add-business-unit":{title:"dashboard.business.unit.add",Component:(0,a.jsx)(M,{...s})},"edit-business-unit":{title:"dashboard.business.unit.edit",Component:(0,a.jsx)(M,{...s})}};if(n&&Object.keys(e).includes(n))return e[n]},[n,s]);return{subPath:n,ActiveSubPath:i}},_=()=>{var e,s,n,l,t,i,r,d,o;let{projectSettings:c}=(0,P.A)(),{businessUnits:u}=(0,w.A)(),{selectedBusinessUnit:m,setSelectedBusinessUnitKey:h}=(0,O.rW)(),{addBusinessUnit:x,updateBusinessUnit:b,addAssociate:v,updateAssociate:j,removeAssociate:A,addAddress:p,updateAddress:y,removeAddress:H}=(0,w.A)(),{selectedStore:K}=L({activeBusinessUnit:m}),{roleOptions:R}=D(),{account:T}=(0,k.A)(),{permissions:E}=(0,S.A)(null==m?void 0:m.key),q=!E.UpdateBusinessUnitDetails,F=!E.UpdateBusinessUnitDetails,V=!E.UpdateAssociates,{searchedAddresses:M,searchedAssociates:_,searchedBusinessUnits:z,handleSearch:G}=B({addresses:null!==(e=null==m?void 0:m.addresses)&&void 0!==e?e:[],associates:null!==(s=null==m?void 0:m.associates)&&void 0!==s?s:[],businessUnits:(null!=u?u:[]).map(U.F)}),J={companyName:null==T?void 0:T.companyName,storeName:null!==(n=null==m?void 0:m.name)&&void 0!==n?n:null==m?void 0:m.key,businessUnitOptions:u.map(e=>{var s;let{name:n,key:a}=e;return{name:null!==(s=null!=n?n:a)&&void 0!==s?s:"",value:null!=a?a:""}}),initialBusinessUnit:null==m?void 0:m.key,onBusinessUnitChange:h,countryOptions:(null!==(l=null==c?void 0:c.countries)&&void 0!==l?l:[]).map(I.D).map(e=>{let{name:s,code:n,states:a}=e;return{name:s,value:n,states:a.map(e=>{let{name:s,code:n}=e;return{name:s,value:n}})}}),roleOptions:R,businessUnitsAreViewOnly:F,associatesAreViewOnly:V,addressesAreViewOnly:q,generalInformation:m?[{id:null!==(t=m.id)&&void 0!==t?t:"",key:null!==(i=m.key)&&void 0!==i?i:"",name:null!==(r=m.name)&&void 0!==r?r:"",email:null!==(d=m.email)&&void 0!==d?d:""}]:[],addresses:M,onSearchAddresses:G("addresses"),associates:_,onSearchAssociates:G("associates"),onAddAssociate:async e=>!!(await v({...e,businessUnitKey:null==m?void 0:m.key})).businessUnitId,onUpdateAssociate:async e=>!!(await j({...e,businessUnitKey:null==m?void 0:m.key})).businessUnitId,onDeleteAssociate:async e=>!!(await A({id:e,businessUnitKey:null==m?void 0:m.key})).businessUnitId,businessUnits:z,onSearchBusinessUnits:G("businessUnits"),onAddBusinessUnit:async e=>{var s;let{email:n,name:a}=e;return!!K&&null!=T&&!!T.accountId&&!!(await x({account:{accountId:T.accountId,companyName:a,email:n},storeId:null!==(s=K.id)&&void 0!==s?s:""})).businessUnitId},onUpdateBusinessUnit:async e=>{let{name:s,email:n,key:a}=e;return!!(await b({name:null!=s?s:"",contactEmail:null!=n?n:"",businessUnitKey:null!=a?a:""})).businessUnitId},onUpdateGeneralInfo:async e=>{let{name:s,email:n,key:a}=e;return!!(await b({name:null!=s?s:"",contactEmail:null!=n?n:"",businessUnitKey:null!=a?a:""})).businessUnitId},canAddBusinessUnit:!!K,onAddAddress:async e=>{if(null==m?void 0:m.key)return!!(await p({...(0,N.l)(e),businessUnitKey:m.key})).businessUnitId},onUpdateAddress:async e=>{if(null==m?void 0:m.key)return!!(await y({...(0,N.l)(e),businessUnitKey:m.key})).businessUnitId},onDeleteAddress:async e=>{if(null==m?void 0:m.key)return!!(await H({addressId:e,businessUnitKey:m.key})).businessUnitId}},{ActiveSubPath:Q}=W({...J,selectedStore:K});return(0,a.jsx)(f.A,{title:null==Q?void 0:Q.title,href:g.s.companyAdmin,userName:null==T?void 0:T.firstName,children:null!==(o=null==Q?void 0:Q.Component)&&void 0!==o?o:(0,a.jsx)(C,{...J})})}}}]);
//# sourceMappingURL=3504.31e01601597694da.js.map