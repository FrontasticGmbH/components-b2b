"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5545],{96515:(e,l,n)=>{n.d(l,{A:()=>v});var i=n(95155);n(12115);var t=n(66529),r=n(60410),d=n(66382),s=n(1547),a=n(15290),o=n(49428);let c=e=>{let{status:l}=e,{translate:n}=(0,r.A)();return(0,i.jsx)(o.A,{className:"capitalize",variant:{Pending:"warning",Confirmed:"primary",Cancelled:"danger",Returned:"secondary",Delivered:"success",Shipped:"primary"}[l],children:n("orders.status.".concat(l.toLowerCase()))})};var u=n(55195),m=n(71577);let v=e=>{let{orders:l,pagination:n}=e,{translate:o}=(0,r.A)(),{formatCurrency:v}=(0,a.A)();return(0,i.jsxs)(t.A,{children:[(0,i.jsxs)(t.A.Container,{className:"hidden table-fixed rounded-md md:table",children:[(0,i.jsxs)(t.A.Head,{className:"border-b text-12 font-bold",children:[(0,i.jsx)(t.A.Cell,{isHeadCell:!0,children:o("common.status")}),(0,i.jsx)(t.A.Cell,{isHeadCell:!0,children:o("common.id")}),(0,i.jsx)(t.A.Cell,{isHeadCell:!0,children:o("common.date")}),(0,i.jsx)(t.A.Cell,{isHeadCell:!0,children:o("common.business.unit")}),(0,i.jsx)(t.A.Cell,{isHeadCell:!0,className:"text-right",children:o("common.total")}),(0,i.jsx)(t.A.Cell,{isButtonsHead:!0})]}),(0,i.jsx)(t.A.Body,{children:(null!=l?l:[]).map(e=>{let{id:l,number:n,status:r,creationDate:a,businessUnit:m,total:x,currency:h}=e;return(0,i.jsxs)(t.A.Row,{children:[(0,i.jsx)(t.A.Cell,{children:(0,i.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,i.jsx)(c,{status:r})})}),(0,i.jsx)(t.A.Cell,{children:(0,i.jsx)("span",{className:"block max-w-full truncate",children:n})}),(0,i.jsx)(t.A.Cell,{children:new Date(a).toLocaleDateString()}),(0,i.jsx)(t.A.Cell,{children:(0,i.jsx)("p",{className:"w-36 truncate lg:w-full",children:m})}),(0,i.jsx)(t.A.Cell,{className:"text-right",children:v(x,h)}),(0,i.jsx)(t.A.Cell,{isButtonsCell:!0,children:(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)(s.default,{href:u.s.orderDetail(l),underlineOnHover:!1,children:(0,i.jsx)(d.default,{variant:"secondary",children:o("common.view")})})})})]},l)})})]}),(0,i.jsxs)(t.A.Container,{className:"table rounded-md md:hidden",children:[(0,i.jsx)(t.A.Head,{className:"border-b text-12 font-bold",children:(0,i.jsx)(t.A.Row,{children:(0,i.jsx)(t.A.Cell,{isHeadCell:!0,children:o("common.id")})})}),(0,i.jsx)(t.A.Body,{children:(null!=l?l:[]).map(e=>{let{id:l,number:n,status:r,creationDate:a,businessUnit:x,total:h,currency:p}=e;return(0,i.jsx)(t.A.Row,{children:(0,i.jsx)(t.A.Cell,{children:(0,i.jsxs)(m.A,{className:"border-none text-gray-600",children:[(0,i.jsxs)(m.A.Button,{defaultSpacing:!1,children:[(0,i.jsx)("p",{className:"font-semibold",children:n}),(0,i.jsx)("p",{className:"my-2 text-14 text-gray-500",children:new Date(a).toLocaleDateString()}),(0,i.jsx)("div",{className:"",children:(0,i.jsx)(c,{status:r})})]}),(0,i.jsxs)(m.A.Panel,{defaultSpacing:!1,children:[(0,i.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,i.jsxs)("p",{className:"basis-32 font-semibold uppercase",children:[" ",o("common.business.unit"),":"]}),(0,i.jsx)("p",{className:"w-48 truncate",children:x})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)("p",{className:"basis-32 font-semibold uppercase",children:[o("common.total"),":"]}),(0,i.jsx)("p",{children:v(h,p)})]}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)(s.default,{href:u.s.orderDetail(l),underlineOnHover:!1,children:(0,i.jsx)(d.default,{variant:"secondary",children:o("common.view")})})})]})]})})},l)})})]}),n&&(0,i.jsx)(t.A.Pagination,{page:n.page,limit:n.limit,totalItems:n.totalItems,onNext:n.onNext,onPrevious:n.onPrevious,onRowsPerPageChange:n.onRowsPerPageChange})]})}},57076:(e,l,n)=>{n.d(l,{A:()=>s});var i=n(12115),t=n(13596),r=n(1862),d=n(69402);let s=e=>{var l,n,s;let{cursor:a,limit:o,states:c,ids:u,businessUnitKey:m,createdFrom:v,createdTo:x,sortAttributes:h}=e,{mutate:p}=(0,r.iX)(),j=(0,d.Ay)(m?["/action/cart/queryOrders",o,a,u,c,v,x,m,h]:null,()=>t.x.composableCommerce.cart.queryOrders({...o?{limit:o}:{},...a?{cursor:a}:{},...u?{orderNumbers:u}:{},...c?{orderStates:c}:{},...v?{createdFrom:v}:{},...x?{createdTo:x}:{},...m?{businessUnitKey:m}:{},...h?{sortAttributes:h}:""}),{revalidateIfStale:!0}),A=!m||j.isLoading,C=(0,i.useCallback)(()=>{p(e=>"object"==typeof e&&(null==e?void 0:e[0])==="/action/cart/queryOrders")},[p]);return{orders:(null===(l=j.data)||void 0===l?void 0:l.isError)?{}:null!==(s=null===(n=j.data)||void 0===n?void 0:n.data)&&void 0!==s?s:{},isLoading:A,cancelOrder:(0,i.useCallback)(async e=>{if(!e.orderNumber||!m)return{};let l=await t.x.composableCommerce.cart.cancelOrder({orderId:e.orderNumber},{businessUnitKey:m});return C(),l.isError?{}:l.data},[m,C]),replicateOrder:(0,i.useCallback)(async e=>{let l=await t.x.composableCommerce.cart.replicateOrder({orderId:e},{businessUnitKey:m});return C(),l.isError?{}:l.data},[m,C])}}},47531:(e,l,n)=>{n.d(l,{k:()=>i});let i=e=>{var l,n,i,t,r,d,s,a,o,c,u,m,v,x,h,p,j,A,C,b;let f=e.variant,g=(null!==(x=null!==(v=null===(l=e.price)||void 0===l?void 0:l.centAmount)&&void 0!==v?v:null==f?void 0:null===(n=f.price)||void 0===n?void 0:n.centAmount)&&void 0!==x?x:0)-((null===(i=e.taxRate)||void 0===i?void 0:i.includedInPrice)&&null!==(h=null===(r=e.taxed)||void 0===r?void 0:null===(t=r.taxAmount)||void 0===t?void 0:t.centAmount)&&void 0!==h?h:0),N=null!==(p=null===(d=e.discountedPrice)||void 0===d?void 0:d.centAmount)&&void 0!==p?p:null==f?void 0:null===(s=f.discountedPrice)||void 0===s?void 0:s.centAmount,y=null!==(A=null!==(j=null===(a=e.price)||void 0===a?void 0:a.fractionDigits)&&void 0!==j?j:null==f?void 0:null===(o=f.price)||void 0===o?void 0:o.fractionDigits)&&void 0!==A?A:2,w=null!==(b=null!==(C=null===(c=e.price)||void 0===c?void 0:c.currencyCode)&&void 0!==C?C:null==f?void 0:null===(u=f.price)||void 0===u?void 0:u.currencyCode)&&void 0!==b?b:"USD";return{id:e.lineItemId,url:e._url,sku:null==f?void 0:f.sku,name:e.name,description:null==f?void 0:null===(m=f.attributes)||void 0===m?void 0:m["Product-Specifications"],images:null==f?void 0:f.images,quantity:e.count,price:g/Math.pow(10,y),...N?{discountedPrice:N/Math.pow(10,y)}:{},currency:w,inStock:null==f?void 0:f.isOnStock,maxQuantity:(null==f?void 0:f.isOnStock)?f.availableQuantity:0,model:null==f?void 0:f.sku}}},66358:(e,l,n)=>{n.d(l,{x:()=>d});var i=n(19453),t=n(47531);let r=e=>"Delivered"===e.shipmentState||"Complete"===e.orderState?"Delivered":"Open"===e.orderState?"Pending":"Confirmed"===e.orderState?"Shipped"===e.shipmentState?"Shipped":"Confirmed":"Returned",d=function(e){var l,n,d,s,a,o,c,u;let{businessUnits:m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=null!==(d=null===(l=e.sum)||void 0===l?void 0:l.currencyCode)&&void 0!==d?d:"USD",x=r(e),{total:h,subtotal:p,tax:j,discount:A,shipping:C}=(0,i.$)(e);return{id:null!==(s=e.orderId)&&void 0!==s?s:"",number:null!==(a=e.orderNumber)&&void 0!==a?a:"",businessUnit:null!==(c=null!==(o=null==m?void 0:null===(n=m.find(l=>l.key===e.businessUnitKey))||void 0===n?void 0:n.name)&&void 0!==o?o:e.businessUnitKey)&&void 0!==c?c:"",creationDate:e.createdAt?new Date(e.createdAt).toISOString():"",status:x,items:(null!==(u=e.lineItems)&&void 0!==u?u:[]).map(t.k),currency:v,taxCosts:j.centAmount,subtotal:p.centAmount,discount:A.centAmount,shippingCosts:C.centAmount,total:h.centAmount,isFromAQuote:!!e.quoteId,purchaseOrderNumber:e.purchaseOrderNumber}}}}]);
//# sourceMappingURL=5545.e2905e0c20d0956d.js.map