"use strict";exports.id=8915,exports.ids=[8915],exports.modules={88915:(s,e,d)=>{d.r(e),d.d(e,{default:()=>v});var t=d(45512),a=d(58009),r=d(62621),n=d(93001),i=d(80034),o=d(25306),l=d(3415),u=d(59271);let c=({addresses:s,loading:e,onDeleteAddress:d,onSearchAddresses:a,viewOnly:r})=>{let{translate:n}=(0,i.A)();return(0,t.jsxs)("div",{children:[r&&(0,t.jsxs)(o.A,{className:"mt-3",children:[(0,t.jsx)("b",{children:n("common.view.only")})," ",n("dashboard.addresses.view.only.desc")]}),(0,t.jsx)("h1",{className:"py-6 text-18 font-extrabold text-gray-800 md:py-7 md:text-20 lg:py-9 lg:text-24",children:n("common.addresses")}),(0,t.jsx)(l.A,{translations:{button:n("dashboard.address.add")},buttonLink:"?subPath=add-address",buttonDisabled:r,onSearchChange:a,isEmpty:!s.length,isLoading:e,entity:n("common.addresses"),children:(0,t.jsx)(u.A,{onDeleteAddress:d,addresses:s})})]})};var y=d(1916),m=d(65138),A=d(65593),b=d(72190),h=d(6505),p=d(33211),x=d(42117),k=d(79334),j=d(20157);let U=s=>{let e=(0,k.useSearchParams)().get("subPath"),d=(0,a.useMemo)(()=>{let d={"add-address":{title:"dashboard.address.add",Component:(0,t.jsx)(j.A,{...{...s,addresses:s.addresses,onAddAddress:s.onAddAddress}})},"edit-address":{title:"dashboard.address.edit",Component:(0,t.jsx)(j.A,{...{...s,addresses:s.addresses,onUpdateAddress:s.onUpdateAddress}})}};if(e&&Object.keys(d).includes(e))return d[e]},[e,s]);return{subPath:e,ActiveSubPath:d}},g=({addresses:s})=>{let[e,d]=(0,a.useState)({addresses:""}),t=(0,a.useCallback)(s=>t=>d({...e,[s]:t}),[e]),r=({firstName:s,lastName:e,streetName:d,streetNumber:t,city:a,country:r,state:n},i)=>[s,e,d,t,a,r,n].some(s=>s&&s.includes(i));return{searchedAddresses:s.filter(s=>r(s,e.addresses)),handleSearch:t}},v=()=>{let{projectSettings:s}=(0,p.A)(),{account:e,isLoading:d}=(0,y.A)(),{selectedBusinessUnit:a}=(0,A.rW)(),{addAddress:i,removeAddress:o,updateAddress:l,businessUnits:u}=(0,b.A)(),{searchedAddresses:k,handleSearch:j}=g({addresses:(u.find(s=>s.key===a?.key)?.addresses??[]).map(m.v)}),{permissions:v}=(0,h.A)(a?.key),f=!v.UpdateBusinessUnitDetails,w={addresses:k,loading:d||!a?.key,onSearchAddresses:j("addresses"),viewOnly:f,onAddAddress:async s=>!!a?.key&&!!(await i({...(0,m.l)(s),businessUnitKey:a?.key})).businessUnitId,onUpdateAddress:async s=>!!a?.key&&!!(await l({...(0,m.l)(s),businessUnitKey:a?.key})).businessUnitId,onDeleteAddress:async s=>!!a?.key&&!!(await o({addressId:s,businessUnitKey:a?.key})).businessUnitId,countryOptions:(s?.countries??[]).map(x.D).map(({name:s,code:e,states:d})=>({name:s,value:e,states:d.map(({name:s,code:e})=>({name:s,value:e}))}))},{ActiveSubPath:C}=U(w);return(0,t.jsx)(r.A,{title:C?.title,href:n.s.addresses,userName:e?.firstName,children:C?.Component??(0,t.jsx)(c,{...w})})}}};