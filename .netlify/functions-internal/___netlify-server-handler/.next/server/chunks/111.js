"use strict";exports.id=111,exports.ids=[111],exports.modules={3486:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(45512),n=s(58009),l=s(85762),i=s(54047),r=s(20231);let d=({disabled:e,readOnly:t,valid:s,error:a})=>e?"disabled":t?"readOnly":s?"valid":a?"error":"default";var c=s(38550);let o=(e,{fitContent:t})=>{let s=(0,c.F)({default:"border-gray-300 bg-white text-gray-600 focus:border-neutral-800 active:border-neutral-800",disabled:"cursor-not-allowed border-neutral-200 bg-neutral-200 text-neutral-800 focus:border-neutral-200",readOnly:"cursor-default border-neutral-200 bg-neutral-200 text-gray-600 focus:border-neutral-200 active:border-neutral-800",error:"border-red-500 bg-white text-gray-600 focus:border-red-500 active:border-red-500",valid:"border-green-500 bg-white text-gray-600 focus:border-green-500 active:border-green-500"});return{textAreaClassName:(0,l.p)("flex w-full resize-none rounded-sm border px-3 py-[10px] text-14 focus:outline-none focus:ring-0",s(e),{"overflow-hidden":t})}};var m=s(37897);let u=({value:e,defaultValue:t,onChange:s,label:c="",disabled:u=!1,readOnly:p=!1,valid:x=!1,error:h="",required:g=!1,showOptionalLabel:b=!1,requiredStyle:j="asterisk",className:f="",fitContent:v=!1,...y})=>{let[N,A]=(0,i.A)(e,t),w=(0,n.useRef)(null),{textAreaClassName:k}=o(d({disabled:u,readOnly:p,valid:x,error:h}),{fitContent:v}),C=(0,n.useCallback)(()=>{v&&w.current&&(w.current.style.height=`${w.current.scrollHeight}px`)},[v]),{ref:S}=(0,r.A)(C),D=(0,n.useCallback)(e=>{C(),A(e.target.value),s?.(e)},[s,A,C]);return(0,a.jsxs)("div",{children:[(0,a.jsx)(m.A,{required:g,showOptionalLabel:b,requiredStyle:j,children:c}),(0,a.jsx)("textarea",{ref:e=>{w.current=e,S.current=e},className:(0,l.p)(k,f),value:N,readOnly:p,disabled:u,required:g,onChange:D,...y}),h&&(0,a.jsx)("span",{className:"mt-3 block text-12 font-medium text-red-500",children:h})]})}},20157:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(45512),n=s(58009),l=s(79334),i=s(86758),r=s(80034),d=s(26381),c=s(16857),o=s(35971),m=s(83043);let u=({onAddAddress:e,onUpdateAddress:t,addresses:s,countryOptions:u,onSave:p,onCancel:x,unstyled:h=!1,toasters:g=!0,translations:b={},showPhoneField:j=!0,showCancelButton:f=!0,showSubmitButton:v=!0,showDefaultCheckBoxes:y=!0})=>{let{translate:N}=(0,r.A)(),{showSavedMessage:A,showFailedMessage:w}=(0,m.A)("address"),k=(0,l.useRouter)(),C=(0,l.useSearchParams)().get("id"),S=s.find(e=>e.id===C)??{},[D,O]=(0,n.useState)(S),[M,z]=(0,n.useState)(!1),B=u.find(e=>e.value===D.country),P=(0,n.useCallback)(e=>{O({...D,[e.target.name]:e.target.value})},[D]),E=(0,n.useCallback)(async()=>{if(!(D.name&&D.country&&D.line1&&D.zip&&D.city))return;let s=await (C?t?.(D):e?.(D));g&&(s?A():w()),(p??k.back)()},[t,e,D,C,k,A,w,p,g]);return(0,a.jsx)(i.A,{unstyled:h,translations:{cancel:b.cancel??N("common.cancel"),submit:b.submit??N("common.save")},showSubmitButton:v,showCancelButton:f,onSubmit:E,onCancel:x??k.back,children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(d.A,{name:"name",label:N("common.company.name"),required:!0,value:D.name??"",onChange:P,containerClassName:"max-w-[400px]"}),(0,a.jsx)(d.A,{name:"careOf",label:N("common.care.of"),showOptionalLabel:!0,value:D.careOf??"",onChange:P,containerClassName:"max-w-[400px]"}),j&&(0,a.jsx)(d.A,{name:"phone",label:N("common.phone"),showOptionalLabel:!0,optionalLabel:N("common.optional.for.order.updates"),value:D.phone??"",onChange:P,containerClassName:"max-w-[400px]"}),(0,a.jsx)(c.A,{label:N("common.country"),required:!0,className:"max-w-[400px]",placeholder:N("common.select"),value:D.country??"",onChange:e=>O({...D,country:e}),options:u}),(0,a.jsx)(d.A,{name:"line1",label:N("common.address"),required:!0,value:D.line1??"",onChange:P,containerClassName:"max-w-[400px]"}),M?(0,a.jsx)(d.A,{name:"line2",label:`${N("common.address")} 2`,showOptionalLabel:!0,value:D.line2??"",onChange:P,containerClassName:"max-w-[400px]"}):(0,a.jsxs)("span",{className:"w-fit cursor-pointer text-14 font-medium text-gray-700",onClick:()=>z(!0),children:["+ ",N("dashboard.add.another.address")]}),(0,a.jsxs)("div",{className:"flex max-w-[400px] gap-3",children:[(0,a.jsx)(d.A,{name:"zip",label:N("common.zipCode"),required:!0,value:D.zip??"",onChange:P,containerClassName:"w-[100px] min-w-[100px]"}),(0,a.jsx)("div",{className:"grow",children:(0,a.jsx)(d.A,{name:"city",label:N("common.city"),required:!0,value:D.city??"",onChange:P})})]}),!!B?.states?.length&&(0,a.jsx)(c.A,{label:N("common.state"),required:!0,className:"max-w-[400px]",placeholder:N("common.state"),value:D.state??"",onChange:e=>O({...D,state:e}),options:B.states}),y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"cursor-pointer text-14 font-medium text-gray-700",children:N("dashboard.save.as.default")}),(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsx)(o.A,{checked:!!D.isDefaultShipping,label:N("common.address.shipping"),onChecked:e=>O({...D,isDefaultShipping:e})}),(0,a.jsx)(o.A,{checked:!!D.isDefaultBilling,label:N("common.address.billing"),onChecked:e=>O({...D,isDefaultBilling:e})})]})]})]})})}},19728:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(45512),n=s(85762),l=s(89030),i=s(80034),r=s(42378);let d=({shipping:e,subtotal:t,total:s,discount:d,tax:c,currency:o="USD",loading:m=!1,classNames:u={},isShippingEstimated:p=!0})=>{let{translate:x}=(0,i.A)(),{formatCurrency:h}=(0,r.A)(),g=(0,n.p)("mt-4 flex items-center justify-between border-t border-neutral-400 pt-4 font-medium md:mt-6",u.totalAmount),b=(0,n.p)("grid gap-2",u.subCostsContainer),j=(0,n.p)("flex items-center justify-between capitalize text-gray-600",u.subCosts),f=[{key:"subtotal",label:x("cart.subtotal"),value:t},{key:"shipping",label:x(p?"cart.shipping.estimate":"cart.shipping"),value:e},{key:"tax",label:x("cart.tax"),value:c},{key:"discount",label:x("cart.discount"),value:-d}];return(0,a.jsxs)("div",{className:u.container,children:[(0,a.jsx)("div",{className:b,children:f.filter(({value:e})=>0!=e).map(({key:e,label:t,value:s})=>(0,a.jsxs)("div",{className:j,children:[(0,a.jsx)(l.A,{fontSize:14,className:"text-14 md:text-16",asSkeleton:m,children:t}),(0,a.jsx)(l.A,{fontSize:14,className:"text-14 md:text-16",asSkeleton:m,children:h(s,o)})]},e))}),(0,a.jsxs)("div",{className:g,children:[(0,a.jsx)(l.A,{className:"text-16 text-gray-700 md:text-18",fontWeight:"medium",asSkeleton:m,children:`${x("cart.total")}:`}),(0,a.jsx)(l.A,{className:"text-16 text-gray-700 md:text-18",fontWeight:"medium",asSkeleton:m,children:h(s,o)})]})]})}},63077:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(45512),n=s(58009),l=s(92345),i=s(80034),r=s(85762),d=s(26381),c=s(41866);let o=({className:e,discounts:t,onSubmit:s,customError:o})=>{let{translate:m}=(0,i.A)(),[u,p]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[g,b]=(0,n.useState)(!1),j=(0,r.p)(x?"border-red-500 text-red-500 focus:border-red-500":"border-neutral-300"),f=(0,r.p)("mt-2 flex flex-wrap justify-items-start gap-3",t?.length===0?"pt-0":"pt-1"),v=(0,r.p)("border-t border-neutral-400 py-4 text-16",e),y=async()=>{if(g||!u)return;b(!0);let e=await s?.(u);h(!e),e&&p(""),b(!1)};return(0,a.jsx)("div",{className:v,children:(0,a.jsxs)(c.A,{className:"border-0",children:[(0,a.jsx)(c.A.Button,{defaultSpacing:!1,className:"text-gray-600",children:m("cart.discount.apply")}),(0,a.jsxs)(c.A.Panel,{defaultSpacing:!1,children:[(0,a.jsx)("form",{className:"pt-6",onSubmit:e=>{e.preventDefault(),y()},children:(0,a.jsx)(d.A,{"aria-label":m("cart.discount.code"),className:j,value:u??"",placeholder:m("cart.discount.enter"),onChange:e=>{p(e.target.value),h(!1)},disabled:g,icon:x?(0,a.jsx)(l.A,{className:"size-[20px] cursor-pointer",onClick:()=>{p(""),h(!1)}}):null,error:x?o||m("cart.codeNotValid"):void 0})}),t&&!!t.length&&(0,a.jsx)("div",{className:f,children:t.map(e=>(0,a.jsxs)("div",{className:"mr-1 flex w-fit justify-between gap-2 rounded-sm border border-neutral-400 bg-white px-2 py-1",children:[(0,a.jsx)("label",{className:"text-12 uppercase leading-[16px] text-secondary",children:e.code}),(0,a.jsx)("button",{type:"button",className:"shrink-0",onClick:e.onRemove,children:(0,a.jsx)(l.A,{className:"size-4 text-secondary"})})]},e.code))})]})]})})}},98326:(e,t,s)=>{s.d(t,{A:()=>H});var a=s(45512),n=s(58009),l=s.n(n),i=s(80034),r=s(28165),d=s(79334),c=s(62999);let o=l().createContext({}),m=({children:e,buyerCanAddComment:t})=>{let s=(0,c.A)(),[l,i]=(0,n.useState)(!1),[r,m]=(0,n.useState)({}),u=+((0,d.useSearchParams)().get("step")??0),p=3===u,[x,h]=(0,n.useState)(u),g=3===x,b=(0,n.useCallback)(()=>{s.push(`?step=${u+1}`),h(Math.max(x,u+1))},[u,s,x]),j=(0,n.useCallback)(e=>{s.push(`?step=${e}`),h(Math.max(x,e))},[s,x]),f=(0,n.useCallback)(()=>s.push("?step=3"),[s]);return(0,a.jsx)(o.Provider,{value:{isCtCheckoutEnabled:!t,checkoutIsProcessing:l,setCheckoutIsProcessing:i,activeStep:u,isLastStep:p,nextStep:b,resetStepTo:j,visitedAllSteps:g,goToLastStep:f,tempData:r,setTempData:e=>m({...r,...e})},children:e})},u=()=>(0,n.useContext)(o);var p=s(41866),x=s(42378),h=s(4979),g=s(19728),b=s(63077),j=s(688),f=s(36601),v=s(71178),y=s(3486);let N=({transaction:e,products:t,discounts:s,onApplyDiscount:l,onSubmitPurchase:r,buyerCanAddComment:d,translations:c={}})=>{let{translate:o}=(0,i.A)(),[m]=(0,f.A)(v.L_),{isLastStep:N,isCtCheckoutEnabled:A,checkoutIsProcessing:w,setCheckoutIsProcessing:k}=u(),[C,S]=(0,n.useState)(""),{formatCurrency:D}=(0,x.A)(),O=(0,n.useCallback)(async e=>{e.preventDefault(),k(!0),await r({buyerComment:C}),k(!1)},[r,C,k]);return(0,a.jsxs)("div",{className:"shrink-0 rounded-lg bg-white lg:w-[432px] lg:p-9",children:[(0,a.jsx)("div",{className:"border-b border-neutral-400 pb-4",children:(0,a.jsx)("h5",{className:"text-gray-700 md:text-18",children:c.orderSummaryTitle||o("checkout.order.summary")})}),(0,a.jsxs)(p.A,{className:"border-none",defaultIsExpanded:m,children:[(0,a.jsx)(p.A.Button,{defaultSpacing:!1,className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:c.orderSummarySubtitle||o("checkout.yourOrder")}),(0,a.jsx)("span",{className:"font-medium text-gray-700",children:D(e.total,e.currency)})]})}),(0,a.jsxs)(p.A.Panel,{defaultSpacing:!1,children:[(0,a.jsxs)("div",{className:"lg:hidden",children:[(0,a.jsx)("div",{className:"flex flex-col",children:t.map(({id:e,name:t,price:s,currency:n,quantity:l,images:i})=>(0,a.jsxs)("div",{className:"flex items-center gap-4 border-t border-neutral-400 py-4 md:gap-8",children:[(0,a.jsx)("div",{className:"relative h-[104px] w-[89px] shrink-0",children:(0,a.jsx)(h.A,{src:i?.[0],fill:!0,style:{objectFit:"contain"},alt:t})}),(0,a.jsxs)("div",{className:"flex grow items-center justify-between overflow-hidden",children:[(0,a.jsxs)("div",{className:"max-w-full grow",children:[(0,a.jsx)("p",{className:"truncate text-12 text-gray-700 md:text-14",children:t}),(0,a.jsx)("p",{className:"mt-2 text-12 font-medium text-gray-700 md:hidden",children:D(s,n)}),(0,a.jsxs)("span",{className:"mt-3 block text-14 text-gray-600 md:mt-2",children:["x ",l]})]}),(0,a.jsx)("span",{className:"hidden text-gray-700 md:block",children:D(s,n)})]})]},e))}),(0,a.jsx)("div",{className:"border-t border-neutral-400 pb-6 pt-4",children:(0,a.jsx)(g.A,{subtotal:e.subtotal,discount:e.discounts,shipping:e.shipping.amount,isShippingEstimated:e.shipping.isEstimated,tax:e.taxes,total:e.total,currency:e.currency,classNames:{totalAmount:"border-none pt-[0px]"}})})]}),(0,a.jsx)("div",{className:"hidden pb-6 pt-2 lg:block",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[t.slice(0,3).map(({id:e,images:t,name:s})=>(0,a.jsx)("div",{className:"relative size-[88px]",children:(0,a.jsx)(h.A,{src:t?.[0],fill:!0,style:{objectFit:"contain"},alt:s})},e)),t.length>3&&(0,a.jsxs)("div",{className:"pl-1 text-14 text-gray-600",children:["+",t.length-3]})]})})]})]}),(0,a.jsx)("div",{className:"border-b border-neutral-400",children:(0,a.jsx)(b.A,{discounts:s,onSubmit:l})}),(0,a.jsx)("div",{className:"hidden pb-5 pt-6 lg:block",children:(0,a.jsx)(g.A,{subtotal:e.subtotal,discount:e.discounts,shipping:e.shipping.amount,isShippingEstimated:e.shipping.isEstimated,tax:e.taxes,total:e.total,currency:e.currency})}),(0,a.jsxs)("form",{onSubmit:O,className:"hidden lg:block",children:[N&&d&&(0,a.jsx)("div",{children:(0,a.jsx)(y.A,{label:o("common.comment").toUpperCase(),className:"min-h-[100px]",onChange:e=>S(e.target.value)})}),(0,a.jsxs)("div",{className:"mt-5",children:[(0,a.jsx)(j.default,{variant:"primary",size:"full",disabled:!N,loading:w,type:A?"button":"submit",...A?{"data-ctc-selector":"paymentButton"}:{},children:c.purchase||o("checkout.complete.purchase")}),A&&(0,a.jsx)("div",{className:"mt-3","data-ctc-selector":"vendorPaymentButton"})]})]})]})};var A=s(16857),w=s(85762),k=s(20157),C=s(35971),S=s(19020),D=s(20897);let O=({isCompleted:e,addresses:t,onAddAddress:s,onCompleteAddresses:l,countryOptions:r=[],initialData:d={}})=>{let{nextStep:c,visitedAllSteps:o,goToLastStep:m}=u(),[p,h]=(0,n.useState)(!1),[g,b]=(0,n.useState)(!1),{translate:f}=(0,i.A)(),{formatAddress:v}=(0,x.A)(),[y,N]=(0,n.useState)({shipping:d.shippingAddress??t[0],billing:d.billingAddress??t[0]}),O=(0,n.useRef)({shipping:!1,billing:!1});(0,n.useEffect)(()=>{let e={};!O.current.shipping&&d.shippingAddress&&(e.shipping=d.shippingAddress,O.current.shipping=!0),!O.current.billing&&d.billingAddress&&(e.billing=d.billingAddress,O.current.billing=!0),N(t=>({...t,...e}))},[d.shippingAddress,d.billingAddress]);let M={shipping:"delivery",billing:"billing"},[z,B]=(0,n.useState)(""),{isOpen:P,onOpen:E,onClose:$}=(0,S.A)(),[I,q]=(0,n.useState)(!1),[F,R]=(0,n.useState)(!1),_=(0,n.useCallback)(async(e,t)=>{h(!0);let s=await l?.(e,t);s&&(o?m:c)(),h(!1),b(!s)},[l,c,o,m]);if(e){let e=[{key:"shipping",address:y.shipping},{key:"billing",address:y.billing}];return(0,a.jsx)("div",{className:"px-4 pb-4 lg:px-0 lg:pb-6",children:(0,a.jsx)("div",{className:"flex flex-col gap-4 md:flex-row md:rounded-md md:border md:border-neutral-400 md:p-5",children:e.map(({key:e,address:t})=>(0,a.jsxs)("div",{className:"flex flex-col gap-[6px] overflow-hidden md:flex-1",children:[(0,a.jsx)("h5",{className:"text-14 font-medium uppercase text-gray-700",children:f(`common.address.${M[e]}`)}),t&&(0,a.jsx)(a.Fragment,{children:v(t).split("\n").map(e=>(0,a.jsx)("p",{className:"truncate text-14 text-gray-600",children:e},e))})]},e))})})}return z?(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"pb-4 text-14 font-medium uppercase text-gray-700",children:f(`common.address.${M[z]}`)}),(0,a.jsx)(k.A,{addresses:[],countryOptions:r,onAddAddress:async e=>{let t=await s?.(e);return t&&N({shipping:"shipping"===z?e:y.shipping,billing:"billing"===z?e:y.billing}),!!t},onCancel:E,onSave:()=>B(""),showDefaultCheckBoxes:!1,unstyled:!0}),(0,a.jsx)(D.A,{isOpen:P,translations:{title:f("checkout.unsaved.changes"),summary:f("checkout.unsaved.address.changes.confirmation"),confirm:f("common.discard"),cancel:f("common.cancel")},onCancel:$,onConfirm:async()=>{B(""),$()}})]}):0===t.length?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h5",{className:"pb-4 text-14 font-medium uppercase text-gray-700",children:[f("common.address.delivery")," (1/2)"]}),(0,a.jsx)(k.A,{addresses:[],countryOptions:r,onAddAddress:async e=>(q(!0),N({...y,shipping:e}),!0),onCancel:()=>{},onSave:()=>{},showDefaultCheckBoxes:!1,showSubmitButton:!I,showCancelButton:!1,translations:{submit:f("checkout.continue.to.billing.address")},unstyled:!0,toasters:!1})]}),I&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsxs)("h5",{className:"pb-6 text-14 font-medium uppercase text-gray-700",children:[f("common.address.billing")," (2/2)"]}),(0,a.jsxs)("div",{className:"pb-6",children:[(0,a.jsx)(C.A,{label:f("checkout.billingDetailsLabel"),onChecked:e=>R(e)}),F&&(0,a.jsx)(j.default,{className:"mt-9 w-full md:w-fit",size:"l",variant:"primary",loading:p,onClick:async()=>!!await s?.(y.shipping)&&(N({...y,billing:y.shipping}),await _(y.shipping,y.shipping),!0),children:f(o?"checkout.save.and.review":"checkout.continue.to.shipping")})]}),!F&&(0,a.jsx)(k.A,{addresses:[],countryOptions:r,onAddAddress:async e=>{let t=await s?.(y.shipping),a=await s?.(e);return!!t&&!!a&&(N({...y,billing:e}),await _(y.shipping,e),!0)},onCancel:()=>{},onSave:()=>{},showDefaultCheckBoxes:!1,showPhoneField:!1,showCancelButton:!1,translations:{submit:f(o?"checkout.save.and.review":"checkout.continue.to.shipping")},unstyled:!0,toasters:!1})]})]}):(0,a.jsxs)("div",{children:[[{key:"shipping",className:"",extra:()=>(0,a.jsx)(a.Fragment,{children:g&&(0,a.jsx)("p",{className:"pt-5 text-12 text-red-500",children:f("checkout.tax.rates.undefined")})})},{key:"billing",className:"mt-9 lg:mt-11"}].map(({key:e,className:s,extra:n})=>(0,a.jsxs)("div",{className:(0,w.p)("flex flex-col gap-6",s),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h5",{className:"text-14 font-medium uppercase text-gray-700",children:f(`common.address.${M[e]}`)}),(0,a.jsxs)("button",{className:"hidden text-left text-14 text-gray-600 underline underline-offset-2 lg:block",onClick:()=>B(e),children:[f(`checkout.address.${M[e]}.add`)," +"]})]}),(0,a.jsx)("h6",{className:"mt-4 text-14 text-gray-700"}),(0,a.jsx)(A.A,{className:"mt-2",value:y[e]?v(y[e]):"",options:t.map(e=>({name:v(e).split("\n").map(e=>e.trim()).filter(Boolean).join(", "),value:v(e)})),onChange:s=>N({...y,[e]:t.find(e=>v(e)===s)})}),n?.()]}),(0,a.jsxs)("button",{className:"text-left text-14 text-gray-600 underline underline-offset-2 lg:hidden",onClick:()=>B(e),children:[f(`checkout.address.${M[e]}.add`)," +"]})]},e)),(0,a.jsx)(j.default,{className:"mt-9 w-full md:w-fit",size:"l",variant:"primary",loading:p,onClick:()=>_(y.shipping,y.billing),children:f(o?"checkout.save.and.review":"checkout.continue.to.shipping")})]})};var M=s(82183),z=s(22403);let B=({isCompleted:e,shippingMethods:t,onCompleteShipping:s,initialData:l={}})=>{let{translate:r}=(0,i.A)(),{nextStep:d,visitedAllSteps:c,goToLastStep:o}=u(),[m,p]=(0,n.useState)(!1),{formatCurrency:h}=(0,x.A)(),[g,b]=(0,n.useState)(t[0]?.id);(0,n.useEffect)(()=>{b(l.shippingMethodId??t[0]?.id)},[l.shippingMethodId,t]);let f=(0,n.useCallback)(async()=>{p(!0),await s?.(g)?(c?o:d)():z.Ay.error(r("common.something.went.wrong"),{position:"top-right"}),p(!1)},[g,s,d,r,c,o]);if(e){let{name:e,estimatedDeliveryDate:s,price:n,currency:l}=t.find(e=>e.id===g)??{};return(0,a.jsx)("div",{className:"px-4 pb-4 lg:px-0 lg:pb-6",children:(0,a.jsx)("div",{className:"md:rounded-md md:border md:border-neutral-400 md:p-5",children:(0,a.jsxs)("div",{className:(0,w.p)("flex items-center justify-between"),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"text-14 font-medium leading-loose text-gray-700",children:e}),(0,a.jsxs)("p",{className:"text-14 leading-loose text-gray-600",children:[r("common.estimated"),": ",s]})]}),(0,a.jsx)("span",{className:"text-14 font-medium leading-loose text-gray-700",children:h(n??0,l??"USD")})]})})})}return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"px-px",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-px",children:t.map(({id:e,name:t,price:s,currency:n,estimatedDeliveryDate:l},i,d)=>(0,a.jsxs)("div",{className:(0,w.p)("flex items-center justify-between p-4 outline outline-1 outline-neutral-400",{"rounded-t-md":0===i,"rounded-b-md":i===d.length-1}),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",onClick:()=>b(e),children:[(0,a.jsx)(M.A,{checked:e===g}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"text-14 font-medium leading-loose text-gray-700",children:t}),(0,a.jsxs)("p",{className:"text-14 leading-loose text-gray-600",children:[(0,a.jsx)("span",{className:"md:hidden",children:r("common.estimated")}),(0,a.jsx)("span",{className:"hidden md:inline",children:r("common.estimated.delivery")}),":"," ",l]})]})]}),(0,a.jsx)("span",{className:"text-14 font-medium leading-loose text-gray-700",children:h(s,n)})]},e))})}),(0,a.jsx)(j.default,{className:"mt-9 w-full md:w-fit",size:"l",variant:"primary",loading:m,onClick:f,children:r(c?"checkout.save.and.review":"checkout.continue.to.payment")})]})};var P=s(26381);let E=({defaultValues:e,onChange:t})=>{let{translate:s}=(0,i.A)(),[l,r]=(0,n.useState)({purchaseOrderNumber:e.purchaseOrderNumber??"",invoiceMemo:e.invoiceMemo??""}),d=(0,n.useCallback)(e=>{r({...l,[e.target.name]:e.target.value}),t?.({...l,[e.target.name]:e.target.value})},[l,t]);return(0,a.jsxs)("form",{className:"flex flex-col items-stretch gap-4 md:items-start",children:[(0,a.jsx)(P.A,{"aria-label":s("checkout.po.number"),name:"purchaseOrderNumber",className:"md:w-[280px]",label:s("checkout.po.number"),required:!0,value:l.purchaseOrderNumber,onChange:d}),(0,a.jsx)(P.A,{name:"invoiceMemo",className:"md:w-[280px]",label:s("checkout.invoice.memo"),showOptionalLabel:!0,value:l.invoiceMemo,onChange:d})]})},$=()=>{let{translate:e}=(0,i.A)();return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"text-14 font-medium leading-loose text-gray-700",children:e("checkout.purchase.order")}),(0,a.jsx)("p",{className:"text-14 leading-loose text-gray-700",children:"****"})]})},I=({isCompleted:e,paymentMethods:t,onCompletePayment:s,initialData:l={},translations:r})=>{let{translate:d}=(0,i.A)(),{nextStep:c,tempData:o,setTempData:m}=u(),[x,g]=(0,n.useState)(!1),[b,f]=(0,n.useState)({}),[v,y]=(0,n.useState)(t[0]?.id);(0,n.useEffect)(()=>{y(l.paymentMethodId??t[0]?.id)},[l.paymentMethodId,t]);let N=(0,n.useCallback)(async()=>{g(!0),await s?.(v,b)?c():z.Ay.error(d("common.something.went.wrong"),{position:"top-right"}),g(!1)},[v,s,c,d,b]);if(e){let e=t.find(e=>e.id===v);return(0,a.jsx)("div",{className:"px-4 pb-4 lg:px-0 lg:pb-6",children:(0,a.jsx)("div",{className:"md:rounded-md md:border md:border-neutral-400 md:p-5",children:e?.id==="purchase.order"&&(0,a.jsx)($,{})})})}return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"px-px",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-px",children:t.map(({id:e,name:t,description:s,image:n},l,i)=>(0,a.jsx)("div",{className:(0,w.p)("flex items-center justify-between p-4 outline outline-1 outline-neutral-400",{"rounded-t-md":0===l,"rounded-b-md":l===i.length-1}),onClick:()=>y(e),children:(0,a.jsxs)(p.A,{className:"border-none",isExpanded:e===v,children:[(0,a.jsx)(p.A.Button,{defaultSpacing:!1,withArrow:!1,children:(0,a.jsxs)("div",{className:"flex items-center justify-between md:justify-start md:gap-[64px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(M.A,{"aria-label":d("checkout.paymentMethod"),checked:e===v}),(0,a.jsx)("h5",{className:"text-14 font-medium text-gray-700",children:t})]}),n.src&&(0,a.jsx)("div",{className:(0,w.p)("relative",n.className),children:(0,a.jsx)(h.A,{src:n.src,style:{objectFit:"contain"},fill:!0,alt:t})})]})}),(0,a.jsx)(p.A.Panel,{defaultSpacing:!1,children:(0,a.jsxs)("div",{className:"pb-1 pt-5",children:[(0,a.jsx)("p",{className:"text-14 leading-loose text-gray-600",children:s}),(0,a.jsx)("div",{className:"mt-4",children:"purchase.order"===v&&(0,a.jsx)(E,{defaultValues:{purchaseOrderNumber:o.purchaseOrderNumber,invoiceMemo:o.invoiceMemo},onChange:e=>{f(e),m(e)}})})]})})]})},e))})}),(0,a.jsx)(j.default,{className:"mt-9 w-full md:w-fit",size:"l",variant:"primary",loading:x,onClick:N,children:r?.review??d("checkout.review.quote")})]})};var q=s(19217);let F=()=>{let[e,t]=(0,n.useState)(),[s,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{q.x.composableCommerce.cart.getCheckoutSessionToken().then(e=>{e.isError?a(!0):t(e.data)})},[]),{session:e,isExpired:s}};var R=s(33211),_=s(27034),L=s(1916);let U=({isActive:e,isCompleted:t,translations:l,onCompletePayment:r})=>{let o=(0,c.A)(),m=(0,n.useRef)(!1),p=(0,n.useRef)(!1),{account:x,logout:h}=(0,L.A)(),{nextStep:g,setCheckoutIsProcessing:b}=u(),[f,v]=(0,n.useState)(!1),{session:y,isExpired:N}=F(),{locale:A}=(0,d.useParams)(),{projectSettings:w}=(0,R.A)(),{translate:k}=(0,i.A)(),C=w?.projectKey,S=w?.region,D=(0,n.useCallback)(async e=>{v(!0),await r?.(e,{}),g(),v(!1)},[r,g]);return(0,n.useEffect)(()=>{!m.current&&C&&S&&y?.token&&e&&(m.current=!0,s.e(7157).then(s.t.bind(s,37157,23)).then(e=>{e.paymentFlow({projectKey:C,region:S,sessionId:y.token,locale:A,onError(e){"payment_failed"===e.code&&(b(!1),_.A.error(k("checkout.wentWrong"),{position:"top-right"}))},onInfo(e){switch(e.code){case"payment_method_selection_confirmation":let{method:t}=e.payload;D(t.type);break;case"payment_validation_started":b(!0);break;case"checkout_completed":b(!1);let{order:s}=e.payload;o.push(`/thank-you?orderId=${s.id}`)}}})}))},[C,S,y?.token,A,D,e,o,b,k]),(0,n.useEffect)(()=>{e||(m.current=!1)},[e]),(0,n.useEffect)(()=>{x?.accountId&&N&&!p.current&&(p.current=!0,h().then(()=>{o.push("/login"),_.A.error(k("checkout.your.token.has.expired"),{position:"top-right"})}))},[N,o,h,k,x]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{"data-ctc":!0}),!t&&(0,a.jsx)(j.default,{type:"submit",className:"mt-9 w-full md:w-fit",size:"l",variant:"primary",loading:f,"data-ctc-selector":"confirmMethod",children:l?.review??k("checkout.review.quote")})]})},T=({addresses:e,onAddAddress:t,onCompleteAddresses:s,onCompleteShipping:l,onCompletePayment:i,initialData:r={},countryOptions:d=[],shippingMethods:c=[],paymentMethods:o=[],translations:m})=>{let{isCtCheckoutEnabled:p}=u();return{steps:(0,n.useMemo)(()=>[{title:"common.addresses",Component:({isActive:n,isCompleted:l})=>(0,a.jsx)(O,{isActive:n,isCompleted:l,addresses:e,onAddAddress:t,onCompleteAddresses:s,countryOptions:d,initialData:r})},{title:"checkout.shipping",Component:({isActive:e,isCompleted:t})=>(0,a.jsx)(B,{isActive:e,isCompleted:t,shippingMethods:c,onCompleteShipping:l,initialData:r})},{title:"common.payment",Component:({isActive:e,isCompleted:t})=>p?(0,a.jsx)(U,{translations:m,isActive:e,isCompleted:t}):(0,a.jsx)(I,{isActive:e,isCompleted:t,paymentMethods:o,onCompletePayment:i,initialData:r,translations:m})}],[m,p,e,t,s,d,r,c,l,o,i])}},V=({number:e,title:t,isActive:s,isCompleted:l,onNavigate:r,children:d})=>{let{translate:c}=(0,i.A)(),o=(0,n.useRef)(null);return(0,n.useEffect)(()=>{s&&o.current.scrollIntoView({block:"center",behavior:"smooth"})},[s]),(0,a.jsxs)("div",{ref:o,className:(0,w.p)("rounded-md bg-white lg:p-9",{"border border-neutral-400 lg:border-none":!s}),children:[(0,a.jsxs)("div",{className:(0,w.p)("flex cursor-pointer items-center justify-between rounded-md p-3 px-4 lg:p-0",s?"bg-primary lg:bg-white":"bg-white"),onClick:r,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:(0,w.p)("flex size-[24px] items-center justify-center rounded-full md:size-[30px]",s?"bg-white font-medium text-primary lg:bg-primary lg:text-white":"border border-gray-700 text-gray-700"),children:e}),(0,a.jsx)("span",{className:(0,w.p)("md:text-18 lg:text-20",s?"text-white lg:text-gray-700":"text-gray-700"),children:c(t)})]}),l&&(0,a.jsx)("span",{className:"text-14 text-gray-600 underline underline-offset-2",children:c("common.edit")})]}),(0,a.jsx)("div",{className:(0,w.p)("pt-4 md:pt-6 lg:pt-7",{hidden:!(s||l)}),children:d})]})},W=({addresses:e,onAddAddress:t,onCompleteAddresses:s,onCompleteShipping:n,onCompletePayment:l,initialData:i={},countryOptions:r=[],shippingMethods:d=[],paymentMethods:c=[],translations:o={}})=>{let{steps:m}=T({addresses:e,onAddAddress:t,onCompleteAddresses:s,countryOptions:r,initialData:i,shippingMethods:d,onCompleteShipping:n,paymentMethods:c,onCompletePayment:l,translations:o}),{activeStep:p,resetStepTo:x}=u();return(0,a.jsx)("div",{className:"flex flex-col gap-4 overflow-hidden md:gap-6 lg:grow lg:gap-8",children:m.map(({title:e,Component:t},s)=>(0,a.jsx)(V,{number:s+1,title:e,isActive:p===s,isCompleted:p>s,onNavigate:()=>x(s),children:t({isActive:p===s,isCompleted:p>s})},s))})},Q=({onSubmitPurchase:e,buyerCanAddComment:t,translations:s={}})=>{let{isLastStep:l,isCtCheckoutEnabled:r,checkoutIsProcessing:d,setCheckoutIsProcessing:c}=u(),{translate:o}=(0,i.A)(),[m,p]=(0,n.useState)(""),x=(0,n.useCallback)(async()=>{r||(c(!0),await e({buyerComment:m}),c(!1))},[e,m,r,c]);return(0,a.jsxs)("div",{className:(0,w.p)("mt-4 lg:hidden",{hidden:!l}),children:[l&&t&&!r&&(0,a.jsx)("div",{children:(0,a.jsx)(y.A,{label:o("common.comment").toUpperCase(),className:"min-h-[100px]",onChange:e=>p(e.target.value)})}),(0,a.jsxs)("div",{className:"mt-5",children:[(0,a.jsx)(j.default,{variant:"primary",size:"m",loading:d,className:"w-full",onClick:x,...r?{"data-ctc-selector":"paymentButton"}:{},children:s.purchase||o("checkout.complete.purchase")}),r&&(0,a.jsx)("div",{className:"mt-3","data-ctc-selector":"vendorPaymentButton"})]})]})},H=({addresses:e,onAddAddress:t,transaction:s,products:n,discounts:l,onApplyDiscount:d,onCompleteAddresses:c,onCompleteShipping:o,onCompletePayment:u,termsAndConditionsLink:p,onSubmitPurchase:x,countryOptions:h=[],initialData:g={},shippingMethods:b=[],paymentMethods:j=[],translations:f={},buyerCanAddComment:v=!1})=>{let{translate:y}=(0,i.A)();return(0,a.jsx)(m,{buyerCanAddComment:v,children:(0,a.jsxs)("div",{className:"min-h-screen p-4 md:px-5 lg:bg-neutral-200 lg:px-12 lg:py-6",children:[(0,a.jsx)("div",{className:"hidden border-b border-neutral-400 pb-5 pt-3 lg:block",children:(0,a.jsx)("p",{className:"text-20 capitalize leading-normal text-gray-700",children:f.header||y("checkout.secure.checkout")})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row-reverse lg:items-start lg:justify-between lg:gap-6 lg:pt-6",children:[(0,a.jsx)(N,{transaction:s,products:n,discounts:l,onApplyDiscount:d,onSubmitPurchase:x,translations:f,buyerCanAddComment:v}),(0,a.jsx)(W,{addresses:e,onAddAddress:t,onCompleteAddresses:c,countryOptions:h,initialData:g,shippingMethods:b,onCompleteShipping:o,paymentMethods:j,onCompletePayment:u,translations:f})]}),(0,a.jsx)(Q,{onSubmitPurchase:x,buyerCanAddComment:v,translations:f}),(0,a.jsxs)("div",{className:"mt-5 text-center text-12 text-gray-600 md:mt-6 md:text-14 lg:mt-[108px]",children:[(0,a.jsxs)("p",{children:[y("checkout.by.placing.order")," ",(0,a.jsx)(r.default,{href:p?.href??"#",openInNewTab:!0,className:"underline transition hover:text-gray-500",children:y("checkout.terms.and.conditions")})," ",y("checkout.of.the.b2b.store"),"."]}),(0,a.jsx)("p",{className:"mt-3 md:mt-4 lg:mt-6",children:y("checkout.powered.by")})]})]})})}},20897:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(45512),n=s(58009),l=s(688),i=s(25270),r=s(54047),d=s(62408);let c=({children:e,translations:t,onCancel:s,onConfirm:c,isOpen:o,disabled:m=!1,className:u=""})=>{let[p,x]=(0,r.A)(o,!1),h=(0,n.useCallback)(()=>x(!0),[x]),g=(0,n.useCallback)(()=>x(!1),[x]),[b,j]=(0,n.useState)(!1),{blockScroll:f}=(0,i.A)();(0,n.useEffect)(()=>(f(p),()=>f(!1)),[p,f]);let v=(0,n.useCallback)(()=>{s?.(),g()},[s,g]),y=(0,n.useCallback)(async()=>{j(!0),await c?.(),j(!1),g()},[c,g]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:u,onClick:h,children:e}),(0,a.jsxs)(d.A,{className:"lg:max-w-[400px]",isOpen:p,onRequestClose:v,closeButton:!0,children:[(0,a.jsxs)("div",{className:"px-6",children:[(0,a.jsx)("h4",{className:"pb-4 pt-6 text-20 font-semibold text-gray-800",children:t.title}),(0,a.jsx)("p",{className:"text-14 text-gray-700",children:t.summary})]}),(0,a.jsxs)("div",{className:"mt-5 flex items-center justify-end gap-3 border-t border-neutral-400 p-6",children:[(0,a.jsx)(l.default,{variant:"secondary",size:"m",className:"min-w-[112px]",onClick:v,children:t.cancel}),!m&&(0,a.jsx)(l.default,{variant:"warning",size:"m",className:"min-w-[112px]",onClick:y,loading:b,children:t.confirm})]})]})]})}},86758:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(45512),n=s(58009),l=s(688),i=s(85762);let r=({children:e,translations:t,onCancel:s,onSubmit:r,unstyled:d=!1,classNames:c={},showCancelButton:o=!0,showSubmitButton:m=!0})=>{let[u,p]=(0,n.useState)(!1),x=(0,n.useCallback)(async e=>{e.preventDefault(),p(!0),await r?.(),p(!1)},[r]);return(0,a.jsxs)("form",{className:(0,i.p)({"rounded-md border-neutral-400 md:border md:p-5 md:pb-6":!d},c.form),onSubmit:x,children:[e,(0,a.jsxs)("div",{className:(0,i.p)("flex items-center gap-3",c.buttonsContainer,{"pt-8":m||o}),children:[o&&(0,a.jsx)(l.default,{variant:"secondary",size:"m",onClick:s,type:"button",className:"min-w-[112px]",children:t.cancel}),m&&(0,a.jsx)(l.default,{variant:"primary",size:"m",type:"submit",loading:u,className:"min-w-[112px]",children:t.submit})]})]})}},83043:(e,t,s)=>{s.d(t,{A:()=>l});var a=s(27034),n=s(80034);let l=e=>{let{translate:t}=(0,n.A)();return{showSavedMessage:()=>{a.A.success(t(`dashboard.entity.${e}.saved`),{position:"top-right"})},showFailedMessage:()=>{a.A.error(t(`dashboard.entity.${e}.failed`),{position:"top-right"})},showDeletedFailedMessage:()=>{a.A.error(t(`dashboard.entity.${e}.deleted.failed`),{position:"top-right"})},showDeletedMessage:()=>{a.A.success(t(`dashboard.entity.${e}.deleted`),{position:"top-right"})}}}},77269:(e,t,s)=>{s.d(t,{k:()=>a});let a=e=>{let t=e.variant,s=(e.price?.centAmount??t?.price?.centAmount??0)-(e.taxRate?.includedInPrice?e.taxed?.taxAmount?.centAmount??0:0),a=e.discountedPrice?.centAmount??t?.discountedPrice?.centAmount,n=e.price?.fractionDigits??t?.price?.fractionDigits??2,l=e.price?.currencyCode??t?.price?.currencyCode??"USD";return{id:e.lineItemId,url:e._url,sku:t?.sku,name:e.name,description:t?.attributes?.["Product-Specifications"],images:t?.images,quantity:e.count,price:s/Math.pow(10,n),...a?{discountedPrice:a/Math.pow(10,n)}:{},currency:l,inStock:t?.isOnStock,maxQuantity:t?.isOnStock?t.availableQuantity:0,model:t?.sku}}},24118:(e,t,s)=>{s.d(t,{k:()=>a});let a=e=>{let t=+(e.description??3),s=new Date(Date.now());s.setDate(s.getDate()+t);let[a,n,l]=[s.getDate(),s.getMonth()+1,s.getFullYear()],i=e.rates?.[0];return{id:e.shippingMethodId,name:e.name??"",price:(i?.price?.centAmount??0)/Math.pow(10,i?.price?.fractionDigits??2),currency:i?.price?.currencyCode??"USD",...isNaN(t)?{estimatedDeliveryDate:"N/A"}:{estimatedDeliveryDate:`${a.toString().padStart(2,"0")}-${n.toString().padStart(2,"0")}-${l}`}}}},84357:(e,t,s)=>{s.d(t,{R:()=>a});let a=e=>0===Object.keys(e).length}};