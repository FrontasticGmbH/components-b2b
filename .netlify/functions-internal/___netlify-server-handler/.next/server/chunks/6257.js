"use strict";exports.id=6257,exports.ids=[6257],exports.modules={83600:(r,e,a)=>{a.d(e,{A:()=>c});var t=a(58009),d=a(19217),o=a(35032),s=a(77524);let c=({cursor:r,limit:e,states:a,ids:c,businessUnitKey:l,createdFrom:u,createdTo:n,sortAttributes:i})=>{let{mutate:m}=(0,o.iX)(),y=(0,s.Ay)(l?["/action/cart/queryOrders",e,r,c,a,u,n,l,i]:null,()=>d.x.composableCommerce.cart.queryOrders({...e?{limit:e}:{},...r?{cursor:r}:{},...c?{orderNumbers:c}:{},...a?{orderStates:a}:{},...u?{createdFrom:u}:{},...n?{createdTo:n}:{},...l?{businessUnitKey:l}:{},...i?{sortAttributes:i}:""}),{revalidateIfStale:!0}),b=!l||y.isLoading,p=(0,t.useCallback)(()=>{m(r=>"object"==typeof r&&r?.[0]==="/action/cart/queryOrders")},[m]);return{orders:y.data?.isError?{}:y.data?.data??{},isLoading:b,cancelOrder:(0,t.useCallback)(async r=>{if(!r.orderNumber||!l)return{};let e=await d.x.composableCommerce.cart.cancelOrder({orderId:r.orderNumber},{businessUnitKey:l});return p(),e.isError?{}:e.data},[l,p]),replicateOrder:(0,t.useCallback)(async r=>{let e=await d.x.composableCommerce.cart.replicateOrder({orderId:r},{businessUnitKey:l});return p(),e.isError?{}:e.data},[l,p])}}},86257:(r,e,a)=>{a.r(e),a.d(e,{default:()=>b});var t=a(45512);a(58009);var d=a(62621),o=a(93001),s=a(79667),c=a(1916),l=a(67726),u=a(83600),n=a(62999),i=a(6505),m=a(65593),y=a(72190);let b=({data:r})=>{let e=(0,n.A)(),{businessUnits:a}=(0,y.A)(),{selectedBusinessUnit:b}=(0,m.rW)(),{account:p}=(0,c.A)(),{permissions:x}=(0,i.A)(b?.key),A=r.data?.dataSource?.order,{cancelOrder:O,replicateOrder:I}=(0,u.A)({businessUnitKey:b?.key});return A?(0,t.jsx)(d.A,{href:o.s.orders,userName:p?.firstName,children:(0,t.jsx)(s.A,{order:(0,l.x)(A,{businessUnits:a}),viewOnly:!x.UpdateMyOrders,onReturn:async()=>{let r=await O(A);return e.refresh(),!!r.orderId},onReorder:async()=>{let r=await I(A.orderId);return r.orderId&&e.push(`/thank-you?orderId=${r.orderId}`),!!r.orderId}})}):(0,t.jsx)(t.Fragment,{})}}};